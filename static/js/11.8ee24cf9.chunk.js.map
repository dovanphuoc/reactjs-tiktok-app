{"version":3,"sources":["components/common/Button/Button.js","redux/actions/index.js","components/common/Button/Button.module.scss","redux/service/service.js","components/Login/Login.js","components/Register/Register.js","components/Login/Login.module.scss","components/Register/Register.module.scss","assets/img/user.jpg","components/PostDetailModal/PostDetailModal.module.scss","components/PostItem/PostItem.module.scss","utils/storage.js","components/PostDetailModal/PostDetailModal.js","assets/img/logo.png","components/PostItem/PostItem.js","container/Home/Home.js","axiosInstance.js"],"names":["defaultFn","Button","color","type","to","href","openNewTab","children","onClick","onFollowUser","onShowModal","size","underline","marginLeft","marginTop","hover","border","hoverPrimaryColor","floatRight","textCenter","actived","bgPrimary","borderOpacity","colorGrey","restProps","Component","rests","classNames","styles","wrapper","target","Link","className","join","loginModal","LOGIN_MODAL","registerModal","REGISTER_MODAL","hideModal","HIDE_MODAL","fetchUser","FETCH_USER","fetchUserSuccess","user","FETCH_USER_SUCCESS","payload","fetchUserFailed","error","FETCH_USER_FAILED","module","exports","fetchUserService","dispatch","axiosInstance","get","then","res","data","catch","err","Login","title","accountTitle","loginText","onShowModalLogin","onCloseModal","onHandleLogin","useState","email","password","setUser","errors","setErrors","btnClose","icon","onSubmit","e","preventDefault","post","window","localStorage","setItem","meta","token","location","reload","response","status_code","resErrors","Object","keys","forEach","field","formGroup","name","id","placeholder","value","onChange","Register","onShowModalRegister","onSubmirForm","passwordConfirm","storageKey","store","jsonData","getItem","assign","JSON","parse","console","log","save","stringify","key","defaultValue","undefined","set","remove","flush","PostDetailModal","isMuted","onCloseBtn","onToggleMute","onNextVideo","onPrevVideo","isPrevVideo","isNextVideo","videoId","customStyles","content","position","top","left","right","bottom","marginRight","transform","background","overflow","WebkitOverflowScrolling","borderRadius","outline","padding","zIndex","overlay","backgroundColor","comments","setComments","isValueInput","setIsValueInput","valueInput","setValueInput","videoRef","useRef","isPlaying","setIsPlaying","currentTime","setCurrentTime","imageRef","image","modalLogin","useSelector","state","modal","modalRegister","useDispatch","useEffect","isMounted","current","ontimeupdate","getTime","useLayoutEffect","handleError","src","userImage","openModal","action","closeModal","handleShowModalRegister","handleShowModalLogin","videoFixed","videoContainer","thumbnail","thumb_url","alt","ref","video","file_url","muted","loop","poster","autoPlay","paused","play","pause","btnPlay","playIcon","logo","btnIcon","btn","vlBtn","vlIcon","faVolumeMute","faVolumeUp","downBtn","btnChervon","iconDown","upBtn","iconUp","contentContainer","userInfoContainer","userInfo","nickname","avatar","onError","userInfoLink","firstName","first_name","isOpen","style","videoInfoContainer","actionContainer","display","actionItem","iconWrap","votes","likes_count","comments_count","actionRight","shareContainer","shareGroup","WhatsappShareButton","shareBtn","url","WhatsappIcon","iconFa","round","FacebookShareButton","FacebookIcon","TwitterShareButton","TwitterIcon","copyLinkContainer","linkContainer","copyContainer","commentContainer","map","comment","commentItem","commentContent","commentWrap","nicknameCmt","commentText","cmt","bottomContainer","commentTime","reply","delete","commentIndex","findIndex","newComment","splice","handleDeleteComment","deleteComment","likeContainer","likeCounts","active","logoutContainer","desc","signUp","loginBtn","PostItem","hastag","stopWhenPaused","isWaypoint","onShowDetail","getVideoRef","onTogglePlay","onEnterWaypoint","onLikeCount","onCommentCount","postItem","config","routes","home","last_name","userAvatar","avatarImg","postContent","infoContent","rel","authorUnique","fullName","caption","description","btnFollow","is_followed","videoItem","cardWrapper","cardImage","onEnter","topOffset","innerHeight","bottomOffset","width","videoWidth","resolution_x","videoHeight","resolution_y","getVideoWidth","playBtn","faPause","faPlay","iconAction","itemWrapper","barItem","is_liked","likeIcon","shares_count","Home","total","perPage","currentPage","totalPages","pagination","setPagination","posts","setPosts","nextVideo","setNextVideo","prevVideo","setPrevVideo","postInViewport","setPostInViewport","storage","setIsMuted","currentPost","setCurrentPost","videoRefs","currentVideoRef","videoModal","videoRefObj","prevState","current_page","per_page","total_pages","getVideoRefByPostId","postId","handleVideoRef","setVideoRefByPostId","checkPlaying","handleToggleMute","handleTogglePlay","handleFollowUser","apiPath","index","item","newPost","newPosts","handleWaypointEnter","handleLikeCount","postIndex","slice","handleCommentCount","history","pushState","document","getPostURL","handleShowDetailPost","scrollRestoration","uuid","scrollPostIntoView","useCallback","scrollIntoView","block","replaceState","v4","back","currentIndex","length","instance","axios","create","baseURL","defaults","headers","common","interceptors","use","Promise","reject"],"mappings":"mcAIMA,EAAY,aAgEHC,EA/DA,SAAC,GAwBT,IAAD,IAvBJC,aAuBI,MAvBI,QAuBJ,MAtBJC,YAsBI,MAtBG,UAsBH,MArBJC,UAqBI,MArBC,GAqBD,MApBJC,YAoBI,MApBG,GAoBH,MAnBJC,kBAmBI,aAlBJC,gBAkBI,MAlBO,KAkBP,MAjBJC,eAiBI,MAjBMR,EAiBN,OAhBJS,aAgBI,EAfJC,YAeI,EAdJC,aAcI,MAdG,IAcH,EAbJC,EAaI,EAbJA,UACAC,EAYI,EAZJA,WACAC,EAWI,EAXJA,UACAC,EAUI,EAVJA,MACAC,EASI,EATJA,OACAC,EAQI,EARJA,kBACAC,EAOI,EAPJA,WACAC,EAMI,EANJA,WACAC,EAKI,EALJA,QACAC,EAII,EAJJA,UACAC,EAGI,EAHJA,cACAC,EAEI,EAFJA,UACGC,EACC,iBACAC,EAAY,SACVC,EAAQ,GACVC,EAAa,CACfC,IAAOC,QACPD,IAAOzB,GACPyB,IAAO1B,GACP0B,IAAOjB,GACPC,EAAYgB,IAAOhB,UAAY,GAC/BC,EAAae,IAAOf,WAAa,GACjCE,EAAQa,IAAOb,MAAQ,GACvBC,EAASY,IAAOZ,OAAS,GACzBF,EAAYc,IAAOd,UAAY,GAC/BG,EAAoBW,IAAOX,kBAAoB,GAC/CE,EAAaS,IAAOT,WAAa,GACjCD,EAAaU,IAAOV,WAAa,GACjCE,EAAUQ,IAAOR,QAAU,GAC3BC,EAAYO,IAAOP,UAAY,GAC/BC,EAAgBM,IAAON,cAAgB,GACvCC,EAAYK,IAAOL,UAAY,IAajC,OAXIlB,IACFoB,EAAY,IACZC,EAAMrB,KAAOA,EACTC,IACFoB,EAAMI,OAAS,WAGf1B,IACFqB,EAAYM,IACZL,EAAMtB,GAAKA,GAGX,cAACqB,EAAD,uCAAeC,GAAWF,GAA1B,IAAqChB,QAASA,EAASwB,UAAWL,EAAWM,KAAK,KAAlF,SACE,+BAAO1B,S,iCC/Db,wNAaa2B,GAbb,OAa0B,WACxB,MAAO,CACL/B,KAAMgC,OAIGC,EAAgB,WAC3B,MAAO,CACLjC,KAAMkC,MAIGC,EAAY,WACvB,MAAO,CACLnC,KAAMoC,MAIGC,EAAY,iBAAO,CAC9BrC,KAAMsC,MAGKC,EAAmB,SAAAC,GAAI,MAAK,CACvCxC,KAAMyC,IACNC,QAAS,CACPF,UAISG,EAAkB,SAAAC,GAAK,MAAK,CACvC5C,KAAM6C,IACNH,QAAS,CAAEE,Y,oBC3CbE,EAAOC,QAAU,CAAC,QAAU,wBAAwB,QAAU,wBAAwB,MAAQ,sBAAsB,aAAe,6BAA6B,MAAQ,sBAAsB,kBAAoB,kCAAkC,aAAe,6BAA6B,EAAI,kBAAkB,GAAK,mBAAmB,EAAI,kBAAkB,IAAM,oBAAoB,GAAK,mBAAmB,GAAK,mBAAmB,IAAM,oBAAoB,GAAK,mBAAmB,WAAa,2BAA2B,QAAU,wBAAwB,MAAQ,sBAAsB,WAAa,2BAA2B,UAAY,0BAA0B,cAAgB,8BAA8B,OAAS,uBAAuB,IAAM,oBAAoB,UAAY,0BAA0B,WAAa,2BAA2B,QAAU,wBAAwB,UAAY,0BAA0B,UAAY,4B,iCCDh6B,qBAiBeC,IAdU,WACvB,OAAO,SAAAC,GACLA,EAASZ,eACTa,IACGC,IAAI,gBACJC,MAAK,SAAAC,GACJ,IAAMC,EAAOD,EAAIC,KACjBL,EAASV,YAAiBe,OAE3BC,OAAM,SAAAC,GACLP,EAASN,YAAgBa,U,kJCP3B3D,EAAY,aAyFH4D,EAxFD,SAAC,GAOR,IAAD,IANJC,aAMI,MANI,GAMJ,MALJC,oBAKI,MALW,GAKX,MAJJC,iBAII,MAJQ,GAIR,MAHJC,wBAGI,MAHehE,EAGf,MAFJiE,oBAEI,MAFWjE,EAEX,MADJkE,qBACI,MADYlE,EACZ,EACJ,EAAwBmE,mBAAS,CAAEC,MAAO,GAAIC,SAAU,KAAxD,mBAAO1B,EAAP,KAAa2B,EAAb,KACA,EAA4BH,mBAAS,IAArC,mBAAOI,EAAP,KAAeC,EAAf,KA4BA,OACE,sBAAKxC,UAAWJ,IAAOC,QAAvB,UACE,oBAAIG,UAAWJ,IAAOiC,MAAtB,SAA8BA,IAC9B,wBAAQ7B,UAAWJ,IAAO6C,SAAUjE,QAASyD,EAA7C,SACE,cAAC,IAAD,CAAmBjC,UAAWJ,IAAO8C,SAEvC,uBAAMC,SAhCe,SAAAC,GACvBA,EAAEC,iBACFxB,IACGyB,KAAK,kBAAmBnC,GACxBY,MAAK,SAAAC,GACJuB,OAAOC,aAAaC,QAAQ,QAASzB,EAAI0B,KAAKC,OAC9CJ,OAAOK,SAASC,YAEjB3B,OAAM,SAAAC,GAEL,OADkBA,EAAI2B,SAAS7B,KAAK8B,aAElC,KAAK,IACH,IAAMC,EAAY,GAClBC,OAAOC,KAAK/B,EAAI2B,SAAS7B,KAAKc,QAAQoB,SAAQ,SAAAC,GAC5CJ,EAAUI,GAASjC,EAAI2B,SAAS7B,KAAKc,OAAOqB,GAAO,MAErDpB,EAAUgB,GACV,MACF,QACEhB,EAAU,2BACLD,GADI,IAEPF,SAAU,2BAWlB,UACE,sBAAKrC,UAAWJ,IAAOiE,UAAvB,UACE,uBACE1F,KAAK,QACL2F,KAAK,QACLC,GAAG,QACHC,YAAY,mBACZC,MAAOtD,EAAKyB,MACZ8B,SAAU,SAAAtB,GACRN,EAAQ,2BAAK3B,GAAN,IAAYyB,MAAOQ,EAAE9C,OAAOmE,SACnCzB,EAAU,2BACLD,GADI,IAEPH,MAAO,WAIb,+BAAOG,EAAOH,WAEhB,sBAAKpC,UAAWJ,IAAOiE,UAAvB,UACE,uBACE1F,KAAK,WACL2F,KAAK,WACLC,GAAG,WACHC,YAAY,sBACZC,MAAOtD,EAAK0B,SACZ6B,SAAU,SAAAtB,GACRN,EAAQ,2BAAK3B,GAAN,IAAY0B,SAAUO,EAAE9C,OAAOmE,SACtCzB,EAAU,2BACLD,GADI,IAEPF,SAAU,WAIhB,+BAAOE,EAAOF,cAEhB,cAACpE,EAAA,EAAD,CAAQM,SAAS,SAASJ,KAAK,UAAUQ,KAAK,IAAIT,MAAM,QAAQgB,YAAU,EAACJ,WAAS,EAACN,QAAS0D,OAEhG,+BACGJ,EACD,sBAAMtD,QAASwD,EAAf,SAAkCD,Y,kJCnFpC/D,EAAY,aA0GHmG,EAzGE,SAAC,GAOX,IAAD,IANJtC,aAMI,MANI,GAMJ,MALJC,oBAKI,MALW,GAKX,MAJJC,iBAII,MAJQ,GAIR,MAHJqC,2BAGI,MAHkBpG,EAGlB,MAFJiE,oBAEI,MAFWjE,EAEX,MADJqG,oBACI,MADWrG,EACX,EACJ,EAAwBmE,mBAAS,CAAEhE,KAAM,QAASiE,MAAO,GAAIC,SAAU,GAAIiC,gBAAiB,KAA5F,mBAAO3D,EAAP,KAAa2B,EAAb,KACA,EAA4BH,mBAAS,IAArC,mBAAOI,EAAP,KAAeC,EAAf,KA6BA,OACE,sBAAKxC,UAAWJ,IAAOC,QAAvB,UACE,oBAAIG,UAAWJ,IAAOiC,MAAtB,SAA8BA,IAC9B,wBAAQ7B,UAAWJ,IAAO6C,SAAUjE,QAASyD,EAA7C,SACE,cAAC,IAAD,CAAmBjC,UAAWJ,IAAO8C,SAEvC,uBAAMC,SAjCe,SAAAC,GACvBA,EAAEC,iBACFxB,IACGyB,KAAK,qBAAsBnC,GAC3BY,MAAK,SAAAC,GACJuB,OAAOC,aAAaC,QAAQ,QAASzB,EAAI0B,KAAKC,OAC9CJ,OAAOK,SAASC,YAEjB3B,OAAM,SAAAC,GAEL,OADkBA,EAAI2B,SAAS7B,KAAK8B,aAElC,KAAK,IACH,IAAMC,EAAY,GAClBC,OAAOC,KAAK/B,EAAI2B,SAAS7B,KAAKc,QAAQoB,SAAQ,SAAAC,GAC5CJ,EAAUI,GAASjC,EAAI2B,SAAS7B,KAAKc,OAAOqB,GAAO,MAErDpB,EAAUgB,GACV,MACF,QACEhB,EAAU,2BACLD,GADI,IAEPF,SAAU,2DAYlB,UACE,sBAAKrC,UAAWJ,IAAOiE,UAAvB,UACE,uBACEC,KAAK,QACLC,GAAG,QACHC,YAAY,mBACZC,MAAOtD,EAAKyB,MACZ8B,SAAU,SAAAtB,GACRN,EAAQ,2BAAK3B,GAAN,IAAYyB,MAAOQ,EAAE9C,OAAOmE,SACnCzB,EAAU,2BACLD,GADI,IAEPH,MAAO,WAIb,+BAAOG,EAAOH,WAEhB,sBAAKpC,UAAWJ,IAAOiE,UAAvB,UACE,uBACE1F,KAAK,WACL2F,KAAK,WACLC,GAAG,WACHC,YAAY,sBACZC,MAAOtD,EAAK0B,SACZ6B,SAAU,SAAAtB,GACRN,EAAQ,2BAAK3B,GAAN,IAAY0B,SAAUO,EAAE9C,OAAOmE,SACtCzB,EAAU,2BACLD,GADI,IAEPF,SAAU,WAIhB,+BAAOE,EAAOF,cAEhB,sBAAKrC,UAAWJ,IAAOiE,UAAvB,UACE,uBACE1F,KAAK,WACL2F,KAAK,WACLC,GAAG,WACHC,YAAY,mCACZC,MAAOtD,EAAK2D,gBACZJ,SAAU,SAAAtB,GACRN,EAAQ,2BAAK3B,GAAN,IAAY2D,gBAAiB1B,EAAE9C,OAAOmE,SAC7CzB,EAAU,2BACLD,GADI,IAEP+B,gBAAiB,WAIvB,+BAAO/B,EAAOF,cAEhB,cAACpE,EAAA,EAAD,CAAQM,SAAS,SAASJ,KAAK,UAAUQ,KAAK,IAAIT,MAAM,QAAQgB,YAAU,EAACJ,WAAS,EAACN,QAAS6F,OAEhG,+BACGvC,EACD,sBAAMtD,QAAS4F,EAAf,SAAqCrC,Y,oBCzG7Cd,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,SAAW,wBAAwB,KAAO,oBAAoB,UAAY,2B,oBCA1JD,EAAOC,QAAU,CAAC,QAAU,0BAA0B,MAAQ,wBAAwB,SAAW,2BAA2B,KAAO,uBAAuB,UAAY,8B,iCCDvJ,u+O,oBCCfD,EAAOC,QAAU,CAAC,WAAa,oCAAoC,eAAiB,wCAAwC,UAAY,mCAAmC,MAAQ,+BAA+B,MAAQ,+BAA+B,SAAW,kCAAkC,KAAO,8BAA8B,KAAO,8BAA8B,QAAU,iCAAiC,SAAW,kCAAkC,aAAe,sCAAsC,WAAa,oCAAoC,QAAU,iCAAiC,MAAQ,+BAA+B,SAAW,kCAAkC,OAAS,gCAAgC,iBAAmB,0CAA0C,kBAAoB,2CAA2C,SAAW,kCAAkC,OAAS,gCAAgC,aAAe,sCAAsC,SAAW,kCAAkC,UAAY,mCAAmC,mBAAqB,4CAA4C,gBAAkB,yCAAyC,OAAS,gCAAgC,WAAa,oCAAoC,SAAW,kCAAkC,MAAQ,+BAA+B,eAAiB,wCAAwC,UAAY,mCAAmC,QAAU,iCAAiC,OAAS,gCAAgC,UAAY,mCAAmC,kBAAoB,2CAA2C,cAAgB,uCAAuC,cAAgB,uCAAuC,IAAM,6BAA6B,SAAW,kCAAkC,QAAU,iCAAiC,iBAAmB,0CAA0C,gBAAkB,yCAAyC,KAAO,8BAA8B,OAAS,gCAAgC,SAAW,kCAAkC,OAAS,gCAAgC,SAAW,kCAAkC,YAAc,qCAAqC,YAAc,qCAAqC,IAAM,6BAA6B,gBAAkB,yCAAyC,MAAQ,+BAA+B,cAAgB,uCAAuC,YAAc,qCAAqC,eAAiB,wCAAwC,YAAc,qCAAqC,cAAgB,uCAAuC,WAAa,oCAAoC,oBAAsB,6CAA6C,kCAAkC,yDAAyD,oCAAoC,2DAA2D,yBAAyB,gDAAgD,yBAAyB,kD,oBCAvkGD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,WAAa,6BAA6B,UAAY,4BAA4B,YAAc,8BAA8B,YAAc,8BAA8B,aAAe,+BAA+B,SAAW,2BAA2B,QAAU,0BAA0B,UAAY,4BAA4B,MAAQ,wBAAwB,UAAY,4BAA4B,YAAc,8BAA8B,UAAY,4BAA4B,QAAU,0BAA0B,QAAU,0BAA0B,MAAQ,wBAAwB,OAAS,yBAAyB,WAAa,6BAA6B,YAAc,8BAA8B,QAAU,0BAA0B,KAAO,uBAAuB,SAAW,2BAA2B,iBAAmB,mCAAmC,oBAAsB,sCAAsC,kCAAkC,kDAAkD,oCAAoC,oDAAoD,yBAAyB,yCAAyC,yBAAyB,yCAAyC,gBAAgB,gCAAgC,MAAQ,0B,6HCiCjzC,UAhCf,SAAiBqD,GACf,IAAMC,EAAQ,GAEd,IACE,IAAMC,EAAW1B,OAAOC,aAAa0B,QAAQH,GAC7Cd,OAAOkB,OAAOH,EAAOI,KAAKC,MAAMJ,IAChC,MAAO1D,GACP+D,QAAQC,IAAIhE,GAGd,IAAMiE,EAAO,WACXjC,OAAOC,aAAaC,QAAQsB,EAAYK,KAAKK,UAAUT,KAEzD,MAAO,CACLlD,IADK,SACD4D,GAA2B,IAAtBC,EAAqB,uDAAN,KAChBlB,EAAQO,EAAMU,GACpB,YAAiBE,IAAVnB,EAAsBA,EAAQkB,GAEvCE,IALK,SAKDH,EAAKjB,GACPO,EAAMU,GAAOjB,EACbe,KAEFM,OATK,SASEJ,UACEV,EAAMU,GACbF,KAEFO,MAbK,WAcH9B,OAAOC,KAAKc,GAAOb,SAAQ,SAAAuB,GAAG,cAAWV,EAAMU,MAC/CF,MAIS,CAlCK,e,iMC0BdhH,EAAY,aAwXHwH,EAvXS,SAAC,GAUlB,IAAD,IATJC,eASI,aARJC,kBAQI,MARS1H,EAQT,MAPJ2H,oBAOI,MAPW3H,EAOX,MANJ4H,mBAMI,MANU5H,EAMV,MALJ6H,mBAKI,MALU7H,EAKV,MAJJ8H,mBAII,aAHJC,mBAGI,SAFJtE,EAEI,EAFJA,KACAuE,EACI,EADJA,QAEMC,EAAe,CACnBC,QAAS,CACPC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,wBACXzH,OAAQ,iBACR0H,WAAY,OACZC,SAAU,OACVC,wBAAyB,QACzBC,aAAc,MACdC,QAAS,OACTC,QAAS,OACTC,OAAQ,KAEVC,QAAS,CACPd,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRW,gBAAiB,8BAIf/D,EAAQJ,OAAOC,aAAa0B,QAAQ,SAC1C,EAAgCvC,mBAAS,IAAzC,mBAAOgF,EAAP,KAAiBC,EAAjB,KACA,EAAwCjF,oBAAS,GAAjD,mBAAOkF,EAAP,KAAqBC,EAArB,KACA,EAAoCnF,mBAAS,IAA7C,mBAAOoF,GAAP,KAAmBC,GAAnB,KAGMC,GAAWC,iBAAO,MACxB,GAAkCvF,oBAAS,GAA3C,qBAAOwF,GAAP,MAAkBC,GAAlB,MACA,GAAsCzF,mBAAS,GAA/C,qBAAO0F,GAAP,MAAoBC,GAApB,MACMC,GAAWL,iBAAO,MAClBM,GAAQN,iBAAO,MACfO,GAAaC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMH,cAC9CI,GAAgBH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,iBACjDjH,GAAWkH,cAOjBC,qBAAU,WACR,IAAIC,GAAY,EAOhB,OANAf,GAASgB,QAAQC,aAAe,WAC9B,GAAIF,EAAW,CACb,IAAMG,EAAUlB,GAASgB,QAAQZ,YACjCC,GAAea,KAGZ,WACLH,GAAY,KAEb,CAACX,KAEJe,2BAAgB,WACE,OAAZ5C,GACJ3E,IACGC,IADH,qBACqB0E,EADrB,cAEGzE,MAAK,SAAAC,GACJ4F,EAAY5F,EAAIC,SAEjBC,OAAM,SAAAC,GACLmD,QAAQC,IAAIpD,QAEf,IAEH,IAoBMkH,GAAc,WAClB,IAAKb,GAAMS,QAAS,OAAO,KAC3BT,GAAMS,QAAQK,IAAMC,KAGhBC,GAAY,WAChB,IAAMC,EAAS/I,cACfkB,GAAS6H,IAGLC,GAAa,WACjB,IAAMD,EAAS3I,cACfc,GAAS6H,IAGLE,GAA0B,WAC9B,IAAMF,EAAS7I,cACfgB,GAAS6H,IAGLG,GAAuB,WAC3B,IAAMH,EAAS/I,cACfkB,GAAS6H,IAwCX,OAPAV,qBAAU,WAENjB,EADiB,KAAfC,MAKH,CAACA,KAEF,mCACE,sBAAKvH,UAAWJ,IAAOyJ,WAAvB,UACE,sBAAKrJ,UAAWJ,IAAO0J,eAAvB,UACE,qBAAKtJ,UAAWJ,IAAO2J,UAAvB,SACE,qBAAKT,IAAKrH,EAAK+H,UAAWC,IAAI,YAAYzJ,UAAWJ,IAAOoI,UAE9D,uBACE0B,IAzHU,SAAAA,GACdA,IACFjC,GAASgB,QAAUiB,IAwHb1J,UAAWJ,IAAO+J,MAClBb,IAAKrH,EAAKmI,SACVC,MAAOpE,EACPqE,MAAI,EACJC,OAAQtI,EAAK+H,UACbQ,UAAQ,EACRxL,QAjGmB,WACvBiJ,GAASgB,QAAQwB,QACnBxC,GAASgB,QAAQZ,YAAcA,GAC/BJ,GAASgB,QAAQyB,OACjBtC,IAAcD,MAEdF,GAASgB,QAAQ0B,QACjBvC,IAAa,OA4FRD,GACC,wBAAQ3H,UAAWJ,IAAOwK,QAAS5L,QAzFrB,WACtBiJ,GAASgB,QAAQyB,OACjBtC,IAAcD,KAuFN,SACE,cAAC,IAAD,CAAQ3H,UAAWJ,IAAOyK,aAG5B,GAEF,qBAAKvB,ICzNA,ihFDyNWW,IAAI,OAAOzJ,UAAWJ,IAAO0K,OAE7C,wBAAQtK,UAAWJ,IAAO2K,QAAS/L,QAASkH,EAA5C,SACE,cAAC,IAAD,CAAmB1F,UAAWJ,IAAO8C,SAEvC,wBAAQ1C,UAAW,CAACJ,IAAO4K,IAAK5K,IAAO6K,OAAOxK,KAAK,KAAMzB,QAAS,kBAAMmH,EAAalE,IAArF,SACE,cAAC,IAAD,CAAiBzB,UAAWJ,IAAO8K,OAAQhI,KAAM+C,EAAUkF,IAAeC,QAE1E7E,EAKA,GAJA,qBAAK/F,UAAS,UAAKJ,IAAOiL,QAAZ,YAAuBjL,IAAOkL,YAActM,QAASoH,EAAnE,SACE,cAAC,IAAD,CAAa5F,UAAS,UAAKJ,IAAO8C,KAAZ,YAAoB9C,IAAOmL,cAKnDjF,EAKA,GAJA,qBAAK9F,UAAS,UAAKJ,IAAOoL,MAAZ,YAAqBpL,IAAOkL,YAActM,QAASqH,EAAjE,SACE,cAAC,IAAD,CAAW7F,UAAS,UAAKJ,IAAO8C,KAAZ,YAAoB9C,IAAOqL,eAMrD,sBAAKjL,UAAWJ,IAAOsL,iBAAvB,UACE,qBAAKlL,UAAWJ,IAAOuL,kBAAvB,SACE,sBAAKnL,UAAWJ,IAAOwL,SAAvB,UACE,qBAAKhN,GAAE,YAAOqD,EAAKd,KAAK0K,UAAxB,SACE,qBACErL,UAAWJ,IAAO0L,OAClBxC,IAAKrH,EAAKd,KAAK2K,OACf7B,IAAI,SACJ8B,QAzHS,WACvBxD,GAASU,QAAQK,IAAMC,KAyHTW,IAAK3B,OAGT,sBAAK/H,UAAWJ,IAAO4L,aAAvB,UACE,cAAC,IAAD,CAAMxL,UAAWJ,IAAOyL,SAAUjN,GAAE,YAAOqD,EAAKd,KAAK0K,UAArD,SACG5J,EAAKd,KAAK0K,WAEb,cAAC,IAAD,CAAMrL,UAAWJ,IAAO6L,UAAWrN,GAAE,YAAOqD,EAAKd,KAAK0K,UAAtD,SACG5J,EAAKd,KAAK+K,gBAGf,cAACzN,EAAA,EAAD,CACEM,SAAS,SACTI,KAAK,KACLT,MAAM,eACNc,QAAM,EACNb,KAAK,UACLc,mBAAiB,EACjBT,QAASwK,KAEX,cAAC,IAAD,CAAO2C,OAvMC,gBAuMO1D,GAA4B2D,MAAO3F,EAAlD,SACE,cAACrE,EAAA,EAAD,CACEC,MAAM,mBACNC,aAAa,yDACbC,UAAU,+BACVC,iBAAkBmH,GAClBlH,aAAciH,OAGlB,cAAC,IAAD,CAAOyC,OA/MI,mBA+MItD,GAAkCuD,MAAO3F,EAAxD,SACE,cAAC9B,EAAA,EAAD,CACEtC,MAAM,kBACNC,aAAa,oDACbC,UAAU,0BACVqC,oBAAqBgF,GACrBnH,aAAciH,YAKtB,sBAAKlJ,UAAWJ,IAAOiM,mBAAvB,UACE,sBAAK7L,UAAWJ,IAAOkM,gBAAvB,UACE,sBAAK9L,UAAWJ,IAAOqJ,OAAQ2C,MAAO,CAAEG,QAAS,QAAjD,UACE,sBAAK/L,UAAWJ,IAAOoM,WAAvB,UACE,qBAAKhM,UAAWJ,IAAOqM,SAAUzN,QAAS4K,GAA1C,SACE,cAAC,IAAD,CAAgBpJ,UAAWJ,IAAO8C,SAEpC,sBAAM1C,UAAWJ,IAAOsM,MAAxB,SAAgCzK,EAAK0K,iBAEvC,sBAAKnM,UAAWJ,IAAOoM,WAAvB,UACE,qBAAKhM,UAAWJ,IAAOqM,SAAvB,SACE,cAAC,IAAD,CAAejM,UAAWJ,IAAO8C,SAEnC,sBAAM1C,UAAWJ,IAAOsM,MAAxB,SAAgCzK,EAAK2K,uBAGzC,qBAAKpM,UAAWJ,IAAOyM,YAAvB,SACE,sBAAKrM,UAAWJ,IAAO0M,eAAvB,UACE,gEACA,sBAAKtM,UAAWJ,IAAO2M,WAAvB,UACE,cAACC,EAAA,EAAD,CACExM,UAAWJ,IAAO6M,SAClBC,IAAG,+CAA0C3J,OAAOK,SAAS/E,MAF/D,SAIE,cAACsO,EAAA,EAAD,CAAc3M,UAAWJ,IAAOgN,OAAQjO,KAAM,GAAIkO,OAAK,MAEzD,cAACC,EAAA,EAAD,CACE9M,UAAWJ,IAAO6M,SAClBC,IAAG,+CAA0C3J,OAAOK,SAAS/E,MAF/D,SAIE,cAAC0O,EAAA,EAAD,CAAc/M,UAAWJ,IAAOgN,OAAQjO,KAAM,GAAIkO,OAAK,MAEzD,cAACG,EAAA,EAAD,CAAoBN,IAAG,+CAA0C3J,OAAOK,SAAS/E,MAAjF,SACE,cAAC4O,EAAA,EAAD,CAAajN,UAAWJ,IAAOgN,OAAQjO,KAAM,GAAIkO,OAAK,iBAMhE,sBAAK7M,UAAWJ,IAAOsN,kBAAvB,UACE,qBAAKlN,UAAWJ,IAAOuN,cAAvB,SAAuCpK,OAAOK,SAAS/E,OACvD,qBAAK2B,UAAWJ,IAAOwN,cAAvB,uDAGFjK,EAeA,qCACE,qBAAKnD,UAAWJ,IAAOyN,iBAAvB,SACE,qBAAKrN,UAAWJ,IAAOuH,SAAvB,SACGA,EAASmG,KAAI,SAAAC,GAAO,OACnB,qBAAKvN,UAAWJ,IAAO4N,YAAvB,SACE,sBAAKxN,UAAWJ,IAAO6N,eAAvB,UACE,cAAC,IAAD,CAAMrP,GAAE,YAAOmP,EAAQ5M,KAAK0K,UAA5B,SACE,qBACEE,QAAS1C,GACTa,IAAK1B,GACLc,IAAKyE,EAAQ5M,KAAK2K,OAClB7B,IAAI,SACJzJ,UAAWJ,IAAO0L,WAGtB,sBAAKtL,UAAWJ,IAAO8N,YAAvB,UACE,cAAC,IAAD,CAAM1N,UAAWJ,IAAO+N,YAAavP,GAAE,YAAOmP,EAAQ5M,KAAK0K,UAA3D,SACGkC,EAAQ5M,KAAK0K,WAEhB,sBAAKrL,UAAWJ,IAAOgO,YAAvB,UACE,sBAAM5N,UAAWJ,IAAOiO,IAAxB,SAA8BN,EAAQA,UACtC,sBAAKvN,UAAWJ,IAAOkO,gBAAvB,UACE,sBAAM9N,UAAWJ,IAAOmO,YAAxB,uBACA,sBAAM/N,UAAWJ,IAAOoO,MAAxB,sCACA,sBAAMxP,QAAS,kBAvMf,SAAAsE,GAC1BzB,IAAc4M,OAAd,wBAAsCnL,EAAKiB,KAAMrC,OAAM,SAAAC,GACrDmD,QAAQC,IAAIpD,MAEd,IAAMuM,EAAe/G,EAASgH,WAAU,SAAAZ,GAAO,OAAIA,EAAQxJ,KAAOjB,EAAKiB,MACjEqK,EAAajH,EAASkH,OAAOH,EAAc,GACjD9G,EAAYgH,GAiMmCE,CAAoBf,IAAUvN,UAAWJ,IAAO2O,cAArE,gCAMN,sBAAKvO,UAAWJ,IAAO4O,cAAvB,UACE,cAAC,IAAD,CAAgBxO,UAAWJ,IAAO8C,OAClC,sBAAM1C,UAAWJ,IAAO6O,WAAxB,SAAqClB,EAAQpB,6BAQzD,uBAAMxJ,SAxOG,SAAAC,GACnBA,EAAEC,iBACiB,KAAf0E,IACJlG,IACGyB,KADH,qBACsBkD,EADtB,aAC0C,CACtCuH,QAAShG,KAEVhG,MAAK,SAAAC,GACJ,IAAM4M,EAAa5M,EAAIC,KACvB2F,EAAY,CAACgH,GAAF,mBAAiBjH,KAC5BK,GAAc,OAEf9F,OAAM,SAAAC,GACLmD,QAAQC,IAAIpD,OA2NN,UACE,uBAAOxD,KAAK,OAAO6F,YAAY,mCAAmBC,MAAOsD,GAAYrD,SA/MzD,SAAAtB,GACxB4E,GAAc5E,EAAE9C,OAAOmE,UA+MX,wBAAQjE,UAAWqH,EAAezH,IAAO8O,OAAS,GAAIvQ,KAAK,SAA3D,kCAxDJ,qBAAK6B,UAAWJ,IAAOyN,iBAAvB,SACE,sBAAKrN,UAAWJ,IAAO+O,gBAAvB,UACE,4GACA,mBAAG3O,UAAWJ,IAAOgP,KAArB,mHACA,cAAC3Q,EAAA,EAAD,CAAQM,SAAS,+BAAaL,MAAM,QAAQS,KAAK,MAAMR,KAAK,UAAUY,OAAK,EAACP,QAASwK,KACrF,oBAAGhJ,UAAWJ,IAAOiP,OAArB,uDAEE,sBAAMrQ,QAAS2K,GAAyBnJ,UAAWJ,IAAOkP,SAA1D,sD,mCEpUZ7I,EAAe,CACnBC,QAAS,CACPC,SAAU,WACVC,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbC,UAAW,wBACXzH,OAAQ,iBACR0H,WAAY,OACZC,SAAU,OACVC,wBAAyB,QACzBC,aAAc,MACdC,QAAS,OACTC,QAAS,QAEXE,QAAS,CACPd,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRW,gBAAiB,8BAGf/D,EAAQJ,OAAOC,aAAa0B,QAAQ,SAGpC1G,EAAY,aA0NH+Q,EAzNE,SAAC,GAeX,IAAD,IAdJtN,YAcI,MAdG,GAcH,MAbJuN,cAaI,MAbK,GAaL,MAZJvJ,eAYI,aAXJkC,iBAWI,aAVJsH,sBAUI,aATJC,kBASI,aARJC,oBAQI,MARWnR,EAQX,MAPJS,oBAOI,MAPWT,EAOX,MANJ2H,oBAMI,MANW3H,EAMX,MALJoR,mBAKI,MALUpR,EAKV,MAJJqR,oBAII,MAJWrR,EAIX,MAHJsR,uBAGI,MAHctR,EAGd,MAFJuR,mBAEI,MAFUvR,EAEV,MADJwR,sBACI,MADaxR,EACb,EACEyJ,EAAWC,iBAAO,MAClBK,EAAWL,iBAAO,MAClBO,EAAaC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMH,cAC9CI,EAAgBH,aAAY,SAAAC,GAAK,OAAIA,EAAMC,MAAMC,iBACvD,GAA8BlG,oBAAS,GAAvC,qBACMf,IADN,YACiBkH,eACjBC,qBAAU,WACHd,EAASgB,UAEVd,EACFF,EAASgB,QAAQyB,QAEjBzC,EAASgB,QAAQ0B,QACb8E,IACFxH,EAASgB,QAAQZ,YAAc,OAGlC,CAACF,EAAWsH,IAEf,IAsBMjG,GAAY,WAChB,IAAMC,EAAS/I,cACfkB,GAAS6H,IAGLC,GAAa,WACjB,IAAMD,EAAS3I,cACfc,GAAS6H,IAaX,OACE,sBAAKjJ,UAAWJ,IAAO6P,SAAvB,UACE,cAAC,IAAD,CAAMrR,GAAE,UAAKsR,IAAOC,OAAOC,KAAnB,YAA2BnO,EAAKd,KAAK+K,WAArC,YAAmDjK,EAAKd,KAAKkP,WAAa7P,UAAWJ,IAAOkQ,WAApG,SACE,qBACEhH,IAAKrH,EAAKd,KAAK2K,OACf7B,IAAKhI,EAAKd,KAAK0K,SACfrL,UAAWJ,IAAOmQ,UAClBxE,QA/BiB,WACvBxD,EAASU,QAAQK,IAAMC,KA+BjBW,IAAK3B,MAGT,sBAAK/H,UAAWJ,IAAOoQ,YAAvB,UACE,sBAAKhQ,UAAWJ,IAAOqQ,YAAvB,UACE,cAAC,IAAD,CAAM7R,GAAE,UAAKsR,IAAOC,OAAOC,KAAnB,YAA2BnO,EAAKd,KAAK+K,WAArC,YAAmDjK,EAAKd,KAAKkP,WAAaK,IAAI,WAAtF,SACE,oBAAIlQ,UAAWJ,IAAOuQ,aAAtB,SAAqC1O,EAAKd,KAAK0K,aAEjD,cAAC,IAAD,CAAMjN,GAAE,UAAKsR,IAAOC,OAAOC,MAAnB,OAA0BnO,EAAKd,KAAK+K,WAApC,YAAkDjK,EAAKd,KAAKkP,WAAaK,IAAI,WAArF,SACE,oBAAIlQ,UAAWJ,IAAOwQ,SAAtB,mBAAoC3O,EAAKd,KAAK+K,WAA9C,YAA4DjK,EAAKd,KAAKkP,kBAG1E,sBAAK7P,UAAWJ,IAAOyQ,QAAvB,UACE,cAAC,IAAD,CAAMjS,GAAE,UAAKsR,IAAOC,OAAOC,MAAnB,OAA0BnO,EAAKd,KAAK+K,WAApC,YAAkDjK,EAAKd,KAAKkP,WAAaK,IAAI,WAArF,SACE,iCAASlB,MAEX,iCAASvN,EAAK6O,iBAEfnN,EACC,qBAAKnD,UAAWJ,IAAO2Q,UAAvB,SACE,cAACtS,EAAA,EAAD,CACEe,QAAM,EACNd,MAAM,eACNS,KAAK,KACLR,KAAK,UACLc,mBAAiB,EACjBE,YAAU,EACVX,QAAS,kBAAMC,EAAagD,IAC5BrC,QAASqC,EAAKd,KAAK6P,YARrB,SAUE,+BAAO/O,EAAKd,KAAK6P,YAAc,mBAAgB,eAInD,qBAAKxQ,UAAWJ,IAAO2Q,UAAvB,SACE,cAACtS,EAAA,EAAD,CACEe,QAAM,EACNd,MAAM,eACNS,KAAK,KACLR,KAAK,UACLc,mBAAiB,EACjBE,YAAU,EACVX,QAASwK,GAPX,SASE,8CAKN,cAAC,IAAD,CAAO2C,OAzIK,gBAyIG1D,EAA4B2D,MAAO3F,EAAlD,SACE,cAACrE,EAAA,EAAD,CACEC,MAAM,mBACNC,aAAa,yDACbC,UAAU,+BACVC,iBAxEsB,WAC9B,IAAMiH,EAAS7I,cACfgB,GAAS6H,IAuEDhH,aAAciH,OAGlB,cAAC,IAAD,CAAOyC,OAjJQ,mBAiJAtD,EAAkCuD,MAAO3F,EAAxD,SACE,cAAC9B,EAAA,EAAD,CACEtC,MAAM,kBACNC,aAAa,oDACbC,UAAU,0BACVqC,oBA5EmB,WAC3B,IAAM6E,EAAS/I,cACfkB,GAAS6H,IA2EDhH,aAAciH,OAGlB,sBAAKlJ,UAAWJ,IAAOsG,QAAvB,UACE,qBAAKlG,UAAWJ,IAAO6Q,UAAvB,SACE,qBAAKzQ,UAAWJ,IAAO8Q,YAAvB,SACE,sBAAK1Q,UAAWJ,IAAO+Q,UAAvB,UACGzB,GACC,cAAC,IAAD,CACE0B,QAAS,kBAAMtB,EAAgB7N,IAC/BoP,WAjHR9N,OAAO+N,YAAc,IAAM,EAkHnBC,cA9GRhO,OAAO+N,YAAc,IAAM,EA2GrB,SAKE,uBACElF,MAAO,CAAEoF,MAhIP,WACpB,IAAMC,EAAaxP,EAAKyB,KAAKyG,MAAMuH,aAC7BC,EAAc1P,EAAKyB,KAAKyG,MAAMyH,aAEpC,OAAIH,EAAaE,EACT,+CAEF,QAAN,OAJmBF,EAAaE,EAIhC,gDAyHkCE,IAChBrR,UAAWJ,IAAO+J,MAClBG,MAAI,EACJD,MAAOpE,EACPuE,UAAQ,EACRN,IAAK,SAAAA,GACHjC,EAASgB,QAAUiB,EACnB0F,EAAY1F,EAAKjI,IAEnBsI,OAAQtI,EAAK+H,UACbV,IAAKrH,EAAKmI,SACVpL,QAAS,kBAAM2Q,EAAa1N,QAKlC,sBAAMzB,UAAWJ,IAAOqH,UACxB,wBAAQjH,UAAW,CAACJ,IAAO4K,IAAK5K,IAAO0R,SAASrR,KAAK,KAAMzB,QAAS,kBAAM6Q,EAAa5N,IAAvF,SACE,cAAC,IAAD,CAAiBzB,UAAWJ,IAAOyK,SAAU3H,KAAMiF,EAAY4J,IAAUC,QAE3E,wBAAQxR,UAAW,CAACJ,IAAO4K,IAAK5K,IAAO6K,OAAOxK,KAAK,KAAMzB,QAAS,kBAAMmH,EAAalE,IAArF,SACE,cAAC,IAAD,CAAiBzB,UAAWJ,IAAO8K,OAAQhI,KAAM+C,EAAUkF,IAAeC,eAKlF,sBAAK5K,UAAWJ,IAAO6R,WAAvB,UACE,sBAAKzR,UAAWJ,IAAO8R,YAAvB,UACE,qBAAK1R,UAAWJ,IAAO+R,QAASnT,QAAS,kBAAM+Q,EAAY9N,IAA3D,SACE,cAAC,IAAD,CAAajD,QAASwK,GAAWhJ,UAAS,UAAKJ,IAAO8C,KAAZ,YAAoBjB,EAAKmQ,SAAWhS,IAAOiS,SAAW,QAElG,iCAASpQ,EAAK0K,iBAGhB,sBAAKnM,UAAWJ,IAAO8R,YAAvB,UACE,qBAAK1R,UAAWJ,IAAO+R,QAASnT,QAAS,kBAAMgR,EAAe/N,IAA9D,SACE,cAAC,IAAD,CAAezB,UAAWJ,IAAO8C,SAEnC,iCAASjB,EAAK2K,oBAGhB,sBAAKpM,UAAWJ,IAAO8R,YAAvB,UACE,qBAAK1R,UAAWJ,IAAO+R,QAAvB,SACE,cAAC,IAAD,CAAS3R,UAAWJ,IAAO8C,SAE7B,iCAASjB,EAAKqQ,+B,SCjBbC,EAtOF,WACX,MAAoC5P,mBAAS,CAC3C6P,MAAO,EACPC,QAAS,EACTC,YAAa,EACbC,WAAY,IAJd,mBAAOC,EAAP,KAAmBC,EAAnB,KAMA,EAA0BlQ,mBAAS,IAAnC,mBAAOmQ,EAAP,KAAcC,EAAd,KACA,EAAkCpQ,oBAAS,GAA3C,mBAAOqQ,EAAP,KAAkBC,EAAlB,KACA,EAAkCtQ,oBAAS,GAA3C,mBAAOuQ,EAAP,KAAkBC,EAAlB,KACA,EAA4CxQ,mBAAS,MAArD,mBAAOyQ,EAAP,KAAuBC,EAAvB,KACA,EAA8B1Q,mBAAS2Q,EAAQxR,IAAI,WAAW,IAA9D,mBAAOmE,EAAP,KAAgBsN,EAAhB,KACA,EAAsC5Q,mBAAS,MAA/C,mBAAO6Q,EAAP,KAAoBC,EAApB,KACMC,EAAYxL,iBAAO,IAEnByL,EAAkBzL,iBAAO,MACzBuH,EAAiBvH,kBAAO,GAC9B,EAAsCvF,mBAAS,GAA/C,mBACMiR,GADN,UACmB1L,iBAAO,OACpB2L,EAAc3L,iBAAO,IAE3BkB,2BAAgB,WACdvH,IAAcC,IAAd,uCAAkD8Q,EAAWF,cAAe3Q,MAAK,SAAAC,GAC/E+Q,GAAS,SAAAe,GAAS,4BAAQA,GAAR,YAAsB9R,EAAIC,UAC5C4Q,EAAc,CACZH,YAAa1Q,EAAI0B,KAAKkP,WAAWmB,aACjCvB,MAAOxQ,EAAI0B,KAAKkP,WAAWJ,MAC3BC,QAASzQ,EAAI0B,KAAKkP,WAAWoB,SAC7BrB,WAAY3Q,EAAI0B,KAAKkP,WAAWqB,mBAGnC,CAACrB,EAAWF,cAEf,IAAMwB,EAAsB,SAAAC,GAC1B,OAAOT,EAAUzK,QAAQkL,IAOrBC,EAAiB,SAAClK,EAAK5G,IAJD,SAAC6Q,EAAQjK,GAC3BwJ,EAAUzK,QAAQkL,GAAUjK,EAIpCmK,CAAoB/Q,EAAKiB,GAAI2F,IAGzBoK,EAAe,SAAAhR,GACnB,OAAK8P,EACEA,GAAkBA,EAAe7O,KAAOjB,EAAKiB,GADxB,MAIxBgQ,EAAmB,SAAAjR,GACvB,IAAM2E,EAAWiM,EAAoB5Q,EAAKiB,IACtC0D,IACFA,EAASoC,OAASpC,EAASoC,MAC3BkJ,EAAWtL,EAASoC,OACpBiJ,EAAQzN,IAAI,UAAWoC,EAASoC,SAI9BmK,EAAmB,SAAAlR,GACvBmM,EAAexG,SAAU,EACrBqL,EAAahR,GACf+P,EAAkB,MAElBA,EAAkB/P,IAIhBmR,EAAmB,SAAAnR,GACvB,IAAIoR,EAAO,qBAAiBpR,EAAKnC,KAAKoD,GAA3B,YAAiCjB,EAAKnC,KAAK6P,YAAc,WAAa,UACjFnP,IACGyB,KAAKoR,GACL3S,MAAK,SAAAC,GACJ,IAAM2S,EAAQ7B,EAAMnE,WAAU,SAAAiG,GAAI,OAAIA,EAAKrQ,KAAOjB,EAAKiB,MACjDsQ,EAAU/B,EAAM6B,GACtBE,EAAQ1T,KAAOa,EAAIC,KACnB,IAAM6S,EAAQ,YAAOhC,GACrBgC,EAASjG,OAAO8F,EAAO,EAAGE,GAC1B9B,EAAS+B,MAEV5S,OAAM,SAAAC,GACLmD,QAAQC,IAAIpD,OAIZ4S,EAAsB,SAAAzR,GACtBkQ,IACJ/D,EAAexG,SAAU,EACzBoK,EAAkB/P,KAGd0R,EAAkB,SAAA1R,GACtBzB,IACGyB,KADH,qBACsBA,EAAKiB,GAD3B,YACiCjB,EAAK8O,SAAW,SAAW,SACzDrQ,MAAK,SAAAC,GACJ,IAAMiT,EAAYnC,EAAMnE,WAAU,SAAAiG,GAAI,OAAIA,EAAKrQ,KAAOjB,EAAKiB,MACrDsQ,EAAO,eAAQ7S,EAAIC,MACzB6Q,EAAMjE,OAAOoG,EAAW,EAAGJ,GAC3B9B,EAASD,EAAMoC,MAAM,OAEtBhT,OAAM,SAAAC,GACLmD,QAAQC,IAAIpD,OAIZgT,GAAqB,SAAA7R,GACzBmQ,EAAenQ,GACfC,OAAO6R,QAAQC,UAAU,KAAMC,SAASjT,MAAOkT,GAAWjS,KAGtDkS,GAAuB,SAAAlS,GAC3BC,OAAO6R,QAAQC,UAAU,KAAMC,SAASjT,MAAOkT,GAAWjS,IAC1D,IAAM2E,EAAWiM,EAAoB5Q,EAAKiB,IAC1Ce,QAAQC,IAAI0C,EAASI,aACjBJ,IACF0L,EAAgB1K,QAAUhB,EAASI,YACnCJ,EAAS0C,SAEX8I,EAAenQ,IAGjB8F,2BAAgB,WAGd,OAFA7F,OAAO6R,QAAQK,kBAAoB,SAE5B,WACLlS,OAAO6R,QAAQK,kBAAoB,UAEpC,IAEH,IAAMF,GAAa,SAAAjS,GACjB,MAAM,KAAN,OAAYA,EAAKnC,KAAK0K,SAAtB,kBAAwCvI,EAAKoS,OAGzCC,GAAqBC,uBAAY,SAAAtS,GACrC,IAAM2E,EAAWiM,EAAoB5Q,EAAKiB,IACtC0D,GACFA,EAAS4N,eAAe,CAAEC,MAAO,aAElC,IAYH1M,2BAAgB,WACToK,IACLmC,GAAmBnC,GACnBjQ,OAAO6R,QAAQW,aAAa,KAAMT,SAASjT,MAAOkT,GAAW/B,OAC5D,CAACA,EAAamC,KAmCjB,OACE,sBAAKvJ,MAAO,CAAE7E,QAAS,gBAAvB,UACGuL,EAAMhF,KAAI,SAAAxK,GAAI,OACb,cAAC,EAAD,CAEErB,KAAMqB,EACNuM,aAAc2E,EACdrO,aAAcoO,EACdtO,QAASA,EACT2J,YAAawE,EACbnV,aAAcwV,EACdtM,UAAWmM,EAAahR,GACxBmM,eAAgBA,EAAexG,QAC/ByG,YAAU,EACVI,gBAAiBiF,EACjBhF,YAAaiF,EACbhF,eAAgBmF,GAChBxF,aAAc6F,IAbTQ,kBAiBT,cAAC,IAAD,CAAU5E,QA9BS,WACjBwB,EAAWF,YAAcE,EAAWD,YACtCE,GAAc,SAAAiB,GAAS,kCAClBA,GADkB,IAErBpB,YAAaoB,EAAUpB,YAAc,UA4BtCc,GACC,cAAC,EAAD,CAEUvR,KAAMuR,EACNtN,WA5EO,WACrB,IAAM+B,EAAWiM,EAAoBV,EAAYjP,IAC7CsP,EAAY5K,QAAQhB,KACtB4L,EAAY5K,QAAQhB,GAAUI,YAAcuL,EAAW3K,QAAQZ,YAC/DwL,EAAY5K,QAAQhB,GAAUyC,QAEhC+I,EAAe,MACflQ,OAAO6R,QAAQa,QAsEDhQ,QAASA,EACTE,aAAcoO,EACdnO,YA/DQ,WACtBuN,EAAgB1K,QAAU,EAC1B,IAAMiN,EAAepD,EAAMnE,WAAU,SAAArL,GAAI,OAAIA,EAAKiB,KAAOiP,EAAYjP,MACrE,GAAI2R,GAAgBpD,EAAMqD,OAAS,EAAG,CACpC,IAAItB,EAAU/B,EAAMoD,EAAe,GACnCzC,EAAeoB,GAEI,IAAjB/B,EAAMqD,QACRhD,GAAa,IAwDD9M,YApDQ,WACtBsN,EAAgB1K,QAAU,EAC1B,IAAMiN,EAAepD,EAAMnE,WAAU,SAAArL,GAAI,OAAIA,EAAKiB,KAAOiP,EAAYjP,MACrE,GAAI2R,GAAgB,EAAG,CACrB,IAAIrB,EAAU/B,EAAMoD,EAAe,GACnCzC,EAAeoB,GAEbqB,GAAgBpD,EAAMqD,OAAS,GACjClD,GAAa,IA6CD1M,YAAayM,EACb1M,YAAa4M,EACb1M,QAASgN,EAAYkC,MAThBM,oB,gCC9NvB,aACMI,EADN,OACiBC,EAAMC,OAAO,CAC5BC,QAAS,oCAGXH,EAASI,SAASC,QAAQC,OAA1B,cAAoD,UAAYnT,OAAOC,aAAa0B,QAAQ,SAC5FkR,EAASO,aAAa7S,SAAS8S,KAC7B,SAAU9S,GACR,OAAOA,EAAS7B,QAElB,SAAUV,GACR,OAAOsV,QAAQC,OAAOvV,MAGX6U","file":"static/js/11.8ee24cf9.chunk.js","sourcesContent":["import React from 'react'\nimport styles from './Button.module.scss'\nimport { Link } from 'react-router-dom'\n\nconst defaultFn = () => {}\nconst Button = ({\n  color = 'black',\n  type = 'primary',\n  to = '',\n  href = '',\n  openNewTab = false,\n  children = null,\n  onClick = defaultFn,\n  onFollowUser = defaultFn,\n  onShowModal = defaultFn,\n  size = 'm',\n  underline,\n  marginLeft,\n  marginTop,\n  hover,\n  border,\n  hoverPrimaryColor,\n  floatRight,\n  textCenter,\n  actived,\n  bgPrimary,\n  borderOpacity,\n  colorGrey,\n  ...restProps\n}) => {\n  let Component = 'button'\n  const rests = {}\n  let classNames = [\n    styles.wrapper,\n    styles[type],\n    styles[color],\n    styles[size],\n    underline ? styles.underline : '',\n    marginLeft ? styles.marginLeft : '',\n    hover ? styles.hover : '',\n    border ? styles.border : '',\n    marginTop ? styles.marginTop : '',\n    hoverPrimaryColor ? styles.hoverPrimaryColor : '',\n    textCenter ? styles.textCenter : '',\n    floatRight ? styles.floatRight : '',\n    actived ? styles.actived : '',\n    bgPrimary ? styles.bgPrimary : '',\n    borderOpacity ? styles.borderOpacity : '',\n    colorGrey ? styles.colorGrey : ''\n  ]\n  if (href) {\n    Component = 'a'\n    rests.href = href\n    if (openNewTab) {\n      rests.target = '_blank'\n    }\n  }\n  if (to) {\n    Component = Link\n    rests.to = to\n  }\n  return (\n    <Component {...rests} {...restProps} onClick={onClick} className={classNames.join(' ')}>\n      <span>{children}</span>\n    </Component>\n  )\n}\n\nexport default Button\n","import { FETCH_USER, FETCH_USER_FAILED, FETCH_USER_SUCCESS, HIDE_MODAL, LOGIN_MODAL, REGISTER_MODAL } from './constant'\n\nimport fetchAvatarService from '../service/service'\n\nexport default avatar => {\n  return dispatch => {\n    dispatch(FETCH_USER())\n    fetchAvatarService(avatar)\n      .then(item => dispatch(FETCH_USER_SUCCESS(item)))\n      .catch(error => dispatch(FETCH_USER_FAILED(error)))\n  }\n}\n\nexport const loginModal = () => {\n  return {\n    type: LOGIN_MODAL\n  }\n}\n\nexport const registerModal = () => {\n  return {\n    type: REGISTER_MODAL\n  }\n}\n\nexport const hideModal = () => {\n  return {\n    type: HIDE_MODAL\n  }\n}\n\nexport const fetchUser = () => ({\n  type: FETCH_USER\n})\n\nexport const fetchUserSuccess = user => ({\n  type: FETCH_USER_SUCCESS,\n  payload: {\n    user\n  }\n})\n\nexport const fetchUserFailed = error => ({\n  type: FETCH_USER_FAILED,\n  payload: { error }\n})\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Button_wrapper__2ujVh\",\"default\":\"Button_default__3Hf0W\",\"black\":\"Button_black__1UL8G\",\"blackOpacity\":\"Button_blackOpacity__26UsA\",\"white\":\"Button_white__2sGHW\",\"hoverPrimaryColor\":\"Button_hoverPrimaryColor__usiLf\",\"colorPrimary\":\"Button_colorPrimary__1wd_a\",\"m\":\"Button_m__1UQOR\",\"ls\":\"Button_ls__2tms4\",\"l\":\"Button_l__3I0UU\",\"xxl\":\"Button_xxl__2UAYA\",\"sm\":\"Button_sm__1u8GX\",\"sl\":\"Button_sl__21X05\",\"ssl\":\"Button_ssl__3_dhq\",\"xl\":\"Button_xl__Crkc7\",\"textCenter\":\"Button_textCenter__3C-Mu\",\"primary\":\"Button_primary__V1WR2\",\"hover\":\"Button_hover__1utEB\",\"marginLeft\":\"Button_marginLeft__1E5CH\",\"marginTop\":\"Button_marginTop__1A027\",\"borderOpacity\":\"Button_borderOpacity__2zsjx\",\"border\":\"Button_border__2d2m7\",\"red\":\"Button_red__2g0cV\",\"underline\":\"Button_underline__VzMtB\",\"floatRight\":\"Button_floatRight__gILGs\",\"actived\":\"Button_actived__2kQSl\",\"bgPrimary\":\"Button_bgPrimary__22CYD\",\"colorGrey\":\"Button_colorGrey__1jdk0\"};","import axiosInstance from '../../axiosInstance'\r\nimport { fetchUser, fetchUserSuccess, fetchUserFailed } from '../actions'\r\n\r\nconst fetchUserService = () => {\r\n  return dispatch => {\r\n    dispatch(fetchUser())\r\n    axiosInstance\r\n      .get('/api/auth/me')\r\n      .then(res => {\r\n        const data = res.data\r\n        dispatch(fetchUserSuccess(data))\r\n      })\r\n      .catch(err => {\r\n        dispatch(fetchUserFailed(err))\r\n      })\r\n  }\r\n}\r\nexport default fetchUserService\r\n","import React, { useState } from \"react\"\nimport Button from \"../common/Button\"\nimport styles from \"./Login.module.scss\"\nimport { AiFillCloseCircle } from \"react-icons/ai\"\nimport axiosInstance from \"../../axiosInstance\"\n\nconst defaultFn = () => {}\nconst Login = ({\n  title = \"\",\n  accountTitle = \"\",\n  loginText = \"\",\n  onShowModalLogin = defaultFn,\n  onCloseModal = defaultFn,\n  onHandleLogin = defaultFn\n}) => {\n  const [user, setUser] = useState({ email: \"\", password: \"\" })\n  const [errors, setErrors] = useState({})\n\n  const handleSubmitForm = e => {\n    e.preventDefault()\n    axiosInstance\n      .post(\"/api/auth/login\", user)\n      .then(res => {\n        window.localStorage.setItem(\"token\", res.meta.token)\n        window.location.reload()\n      })\n      .catch(err => {\n        let status_code = err.response.data.status_code\n        switch (status_code) {\n          case 422:\n            const resErrors = {}\n            Object.keys(err.response.data.errors).forEach(field => {\n              resErrors[field] = err.response.data.errors[field][0]\n            })\n            setErrors(resErrors)\n            break\n          default:\n            setErrors({\n              ...errors,\n              password: \"Account has used\"\n            })\n        }\n      })\n  }\n  return (\n    <div className={styles.wrapper}>\n      <h3 className={styles.title}>{title}</h3>\n      <button className={styles.btnClose} onClick={onCloseModal}>\n        <AiFillCloseCircle className={styles.icon} />\n      </button>\n      <form onSubmit={handleSubmitForm}>\n        <div className={styles.formGroup}>\n          <input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Enter your email\"\n            value={user.email}\n            onChange={e => {\n              setUser({ ...user, email: e.target.value })\n              setErrors({\n                ...errors,\n                email: null\n              })\n            }}\n          />\n          <span>{errors.email}</span>\n        </div>\n        <div className={styles.formGroup}>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Enter your password\"\n            value={user.password}\n            onChange={e => {\n              setUser({ ...user, password: e.target.value })\n              setErrors({\n                ...errors,\n                password: null\n              })\n            }}\n          />\n          <span>{errors.password}</span>\n        </div>\n        <Button children=\"Submit\" type=\"primary\" size=\"m\" color=\"white\" floatRight marginTop onClick={onHandleLogin} />\n      </form>\n      <h5>\n        {accountTitle}\n        <span onClick={onShowModalLogin}>{loginText}</span>\n      </h5>\n    </div>\n  )\n}\n\nexport default Login\n","import React, { useState } from 'react'\nimport Button from '../common/Button'\nimport styles from './Register.module.scss'\nimport { AiFillCloseCircle } from 'react-icons/ai'\nimport axiosInstance from '../../axiosInstance'\n\nconst defaultFn = () => {}\nconst Register = ({\n  title = '',\n  accountTitle = '',\n  loginText = '',\n  onShowModalRegister = defaultFn,\n  onCloseModal = defaultFn,\n  onSubmirForm = defaultFn\n}) => {\n  const [user, setUser] = useState({ type: 'email', email: '', password: '', passwordConfirm: '' })\n  const [errors, setErrors] = useState({})\n\n  const handleSubmitForm = e => {\n    e.preventDefault()\n    axiosInstance\n      .post('/api/auth/register', user)\n      .then(res => {\n        window.localStorage.setItem('token', res.meta.token)\n        window.location.reload()\n      })\n      .catch(err => {\n        let status_code = err.response.data.status_code\n        switch (status_code) {\n          case 422:\n            const resErrors = {}\n            Object.keys(err.response.data.errors).forEach(field => {\n              resErrors[field] = err.response.data.errors[field][0]\n            })\n            setErrors(resErrors)\n            break\n          default:\n            setErrors({\n              ...errors,\n              password: 'Account has used please register another account'\n            })\n        }\n      })\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <h3 className={styles.title}>{title}</h3>\n      <button className={styles.btnClose} onClick={onCloseModal}>\n        <AiFillCloseCircle className={styles.icon} />\n      </button>\n      <form onSubmit={handleSubmitForm}>\n        <div className={styles.formGroup}>\n          <input\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"Enter your email\"\n            value={user.email}\n            onChange={e => {\n              setUser({ ...user, email: e.target.value })\n              setErrors({\n                ...errors,\n                email: null\n              })\n            }}\n          />\n          <span>{errors.email}</span>\n        </div>\n        <div className={styles.formGroup}>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Enter your password\"\n            value={user.password}\n            onChange={e => {\n              setUser({ ...user, password: e.target.value })\n              setErrors({\n                ...errors,\n                password: null\n              })\n            }}\n          />\n          <span>{errors.password}</span>\n        </div>\n        <div className={styles.formGroup}>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"Enter your password confirmation\"\n            value={user.passwordConfirm}\n            onChange={e => {\n              setUser({ ...user, passwordConfirm: e.target.value })\n              setErrors({\n                ...errors,\n                passwordConfirm: null\n              })\n            }}\n          />\n          <span>{errors.password}</span>\n        </div>\n        <Button children=\"Submit\" type=\"primary\" size=\"m\" color=\"white\" floatRight marginTop onClick={onSubmirForm} />\n      </form>\n      <h5>\n        {accountTitle}\n        <span onClick={onShowModalRegister}>{loginText}</span>\n      </h5>\n    </div>\n  )\n}\n\nexport default Register\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__2T3nK\",\"title\":\"Login_title__1B-y6\",\"btnClose\":\"Login_btnClose__3IkDe\",\"icon\":\"Login_icon__2432r\",\"formGroup\":\"Login_formGroup__2K2C_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Register_wrapper__22uDi\",\"title\":\"Register_title__2zIPq\",\"btnClose\":\"Register_btnClose__2bsVI\",\"icon\":\"Register_icon__3GYfj\",\"formGroup\":\"Register_formGroup__2FZUv\"};","export default \"data:image/jpeg;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoFixed\":\"PostDetailModal_videoFixed__m_ntS\",\"videoContainer\":\"PostDetailModal_videoContainer__2i2gL\",\"thumbnail\":\"PostDetailModal_thumbnail__3m_z6\",\"image\":\"PostDetailModal_image__3prmb\",\"video\":\"PostDetailModal_video__Ruqat\",\"playIcon\":\"PostDetailModal_playIcon__pIy9U\",\"icon\":\"PostDetailModal_icon__ggkoc\",\"logo\":\"PostDetailModal_logo__1aTD2\",\"btnIcon\":\"PostDetailModal_btnIcon__3sBk1\",\"muteIcon\":\"PostDetailModal_muteIcon__2dPR-\",\"soundWrapper\":\"PostDetailModal_soundWrapper__3B2_l\",\"btnChervon\":\"PostDetailModal_btnChervon__3bEYp\",\"downBtn\":\"PostDetailModal_downBtn__3fi_r\",\"upBtn\":\"PostDetailModal_upBtn__16oDD\",\"iconDown\":\"PostDetailModal_iconDown__1sKgF\",\"iconUp\":\"PostDetailModal_iconUp__1p49G\",\"contentContainer\":\"PostDetailModal_contentContainer__3YrmL\",\"userInfoContainer\":\"PostDetailModal_userInfoContainer__3xXNN\",\"userInfo\":\"PostDetailModal_userInfo__ptG_H\",\"avatar\":\"PostDetailModal_avatar__3KSQU\",\"userInfoLink\":\"PostDetailModal_userInfoLink__1DrUV\",\"nickname\":\"PostDetailModal_nickname__2atnk\",\"firstName\":\"PostDetailModal_firstName__3VJ7J\",\"videoInfoContainer\":\"PostDetailModal_videoInfoContainer__3bCnF\",\"actionContainer\":\"PostDetailModal_actionContainer__1mf0v\",\"action\":\"PostDetailModal_action__e1s4r\",\"actionItem\":\"PostDetailModal_actionItem__Nvyzk\",\"iconWrap\":\"PostDetailModal_iconWrap__jblZX\",\"votes\":\"PostDetailModal_votes__2zfwP\",\"shareContainer\":\"PostDetailModal_shareContainer__2xLWM\",\"shareLink\":\"PostDetailModal_shareLink__HVrkT\",\"iconApp\":\"PostDetailModal_iconApp__2ge4W\",\"iconFa\":\"PostDetailModal_iconFa__1Td4m\",\"iconShare\":\"PostDetailModal_iconShare__p3sVB\",\"copyLinkContainer\":\"PostDetailModal_copyLinkContainer__7ZFrh\",\"linkContainer\":\"PostDetailModal_linkContainer__3p146\",\"copyContainer\":\"PostDetailModal_copyContainer__3lpyE\",\"btn\":\"PostDetailModal_btn__1nrYV\",\"shareBtn\":\"PostDetailModal_shareBtn__ZsOCd\",\"btnPlay\":\"PostDetailModal_btnPlay__1Iohj\",\"commentContainer\":\"PostDetailModal_commentContainer__3XQGt\",\"logoutContainer\":\"PostDetailModal_logoutContainer___GWQd\",\"desc\":\"PostDetailModal_desc__33j4C\",\"signUp\":\"PostDetailModal_signUp__29_eO\",\"loginBtn\":\"PostDetailModal_loginBtn__2lmjl\",\"active\":\"PostDetailModal_active__3Pnux\",\"comments\":\"PostDetailModal_comments__2KM4F\",\"commentItem\":\"PostDetailModal_commentItem__2LMF7\",\"nicknameCmt\":\"PostDetailModal_nicknameCmt__2b_eZ\",\"cmt\":\"PostDetailModal_cmt__aR0UO\",\"bottomContainer\":\"PostDetailModal_bottomContainer__1YSZf\",\"reply\":\"PostDetailModal_reply__2zLoS\",\"deleteComment\":\"PostDetailModal_deleteComment__8_D-t\",\"commentTime\":\"PostDetailModal_commentTime__3HIpk\",\"commentContent\":\"PostDetailModal_commentContent__2xrNd\",\"commentText\":\"PostDetailModal_commentText__i-XmR\",\"likeContainer\":\"PostDetailModal_likeContainer__3CSAu\",\"likeCounts\":\"PostDetailModal_likeCounts__Ah3KM\",\"ReactModal__Overlay\":\"PostDetailModal_ReactModal__Overlay__2iKoE\",\"ReactModal__Overlay--after-open\":\"PostDetailModal_ReactModal__Overlay--after-open__4qeH6\",\"ReactModal__Overlay--before-close\":\"PostDetailModal_ReactModal__Overlay--before-close__3zAeH\",\"ReactModal__Body--open\":\"PostDetailModal_ReactModal__Body--open__2nkaB\",\"ReactModal__Html--open\":\"PostDetailModal_ReactModal__Html--open__23hd2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postItem\":\"PostItem_postItem__1o5IU\",\"userAvatar\":\"PostItem_userAvatar__3YPz3\",\"avatarImg\":\"PostItem_avatarImg__2wj50\",\"postContent\":\"PostItem_postContent__3SgQe\",\"infoContent\":\"PostItem_infoContent__1_Sjx\",\"authorUnique\":\"PostItem_authorUnique__3Y1Km\",\"fullName\":\"PostItem_fullName__3iALz\",\"caption\":\"PostItem_caption__2vC2p\",\"btnFollow\":\"PostItem_btnFollow__2b2yQ\",\"video\":\"PostItem_video__W0jVw\",\"videoItem\":\"PostItem_videoItem__u7MXU\",\"cardWrapper\":\"PostItem_cardWrapper__2aPcR\",\"cardImage\":\"PostItem_cardImage__1sEXR\",\"playBtn\":\"PostItem_playBtn__15ROV\",\"overlay\":\"PostItem_overlay__1KGOI\",\"vlBtn\":\"PostItem_vlBtn__3JJF5\",\"vlIcon\":\"PostItem_vlIcon__1BkQG\",\"iconAction\":\"PostItem_iconAction__1htUr\",\"itemWrapper\":\"PostItem_itemWrapper__2GZTO\",\"barItem\":\"PostItem_barItem__1vXIO\",\"icon\":\"PostItem_icon__1c8v1\",\"likeIcon\":\"PostItem_likeIcon__3HF8s\",\"ReactModalPortal\":\"PostItem_ReactModalPortal__KrU_d\",\"ReactModal__Overlay\":\"PostItem_ReactModal__Overlay__UpjNi\",\"ReactModal__Overlay--after-open\":\"PostItem_ReactModal__Overlay--after-open__29NjC\",\"ReactModal__Overlay--before-close\":\"PostItem_ReactModal__Overlay--before-close__3Kh8c\",\"ReactModal__Body--open\":\"PostItem_ReactModal__Body--open__129BD\",\"ReactModal__Html--open\":\"PostItem_ReactModal__Html--open__zWhRc\",\"modal-overlay\":\"PostItem_modal-overlay__1nKe_\",\"modal\":\"PostItem_modal__2zdjX\"};","const STORAGE_KEY = '__storage__'\n\nfunction Storage(storageKey) {\n  const store = {}\n\n  try {\n    const jsonData = window.localStorage.getItem(storageKey)\n    Object.assign(store, JSON.parse(jsonData))\n  } catch (error) {\n    console.log(error)\n  }\n\n  const save = () => {\n    window.localStorage.setItem(storageKey, JSON.stringify(store))\n  }\n  return {\n    get(key, defaultValue = null) {\n      const value = store[key]\n      return value !== undefined ? value : defaultValue\n    },\n    set(key, value) {\n      store[key] = value\n      save()\n    },\n    remove(key) {\n      delete store[key]\n      save()\n    },\n    flush() {\n      Object.keys(store).forEach(key => delete store[key])\n      save()\n    }\n  }\n}\nexport default new Storage(STORAGE_KEY)\n","import React, { useRef, useState, useEffect, useLayoutEffect } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport styles from './PostDetailModal.module.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faVolumeMute, faVolumeUp } from '@fortawesome/free-solid-svg-icons'\nimport { AiFillCloseCircle, AiOutlineHeart } from 'react-icons/ai'\nimport { FaAngleDown, FaAngleUp, FaCommentDots, FaPlay } from 'react-icons/fa'\nimport logo from '../../assets/img/logo.png'\nimport Button from '../../components/common/Button'\nimport Modal from 'react-modal'\nimport Login from '../Login'\nimport Register from '../../components/Register'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { hideModal, loginModal, registerModal } from '../../redux/actions'\nimport userImage from '../../assets/img/user.jpg'\nimport axiosInstance from '../../axiosInstance'\n\nimport {\n  FacebookShareButton,\n  WhatsappShareButton,\n  TwitterShareButton,\n  FacebookIcon,\n  WhatsappIcon,\n  TwitterIcon\n} from 'react-share'\n\nconst defaultFn = () => {}\nconst PostDetailModal = ({\n  isMuted = false,\n  onCloseBtn = defaultFn,\n  onToggleMute = defaultFn,\n  onNextVideo = defaultFn,\n  onPrevVideo = defaultFn,\n  isPrevVideo = false,\n  isNextVideo = false,\n  data,\n  videoId\n}) => {\n  const customStyles = {\n    content: {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      right: 'auto',\n      bottom: 'auto',\n      marginRight: '-50%',\n      transform: 'translate(-50%, -50%)',\n      border: '1px solid #ccc',\n      background: '#fff',\n      overflow: 'auto',\n      WebkitOverflowScrolling: 'touch',\n      borderRadius: '4px',\n      outline: 'none',\n      padding: '20px',\n      zIndex: 1000\n    },\n    overlay: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(255, 255, 255, 0.75)'\n    }\n  }\n\n  const token = window.localStorage.getItem('token')\n  const [comments, setComments] = useState([])\n  const [isValueInput, setIsValueInput] = useState(false)\n  const [valueInput, setValueInput] = useState('')\n  const LOGIN_MODAL = 'LOGIN_MODAL'\n  const REGISTER_MODAL = 'REGISTER_MODAL'\n  const videoRef = useRef(null)\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [currentTime, setCurrentTime] = useState(0)\n  const imageRef = useRef(null)\n  const image = useRef(null)\n  const modalLogin = useSelector(state => state.modal.modalLogin)\n  const modalRegister = useSelector(state => state.modal.modalRegister)\n  const dispatch = useDispatch()\n  const getVideoRef = ref => {\n    if (ref) {\n      videoRef.current = ref\n    }\n  }\n\n  useEffect(() => {\n    let isMounted = true\n    videoRef.current.ontimeupdate = function () {\n      if (isMounted) {\n        const getTime = videoRef.current.currentTime\n        setCurrentTime(getTime)\n      }\n    }\n    return () => {\n      isMounted = false\n    }\n  }, [currentTime])\n\n  useLayoutEffect(() => {\n    if (videoId === null) return\n    axiosInstance\n      .get(`/api/posts/${videoId}/comments`)\n      .then(res => {\n        setComments(res.data)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }, [])\n\n  const handlePausePlayVideo = () => {\n    if (videoRef.current.paused) {\n      videoRef.current.currentTime = currentTime\n      videoRef.current.play()\n      setIsPlaying(!isPlaying)\n    } else {\n      videoRef.current.pause()\n      setIsPlaying(true)\n    }\n  }\n\n  const handlePlayVideo = () => {\n    videoRef.current.play()\n    setIsPlaying(!isPlaying)\n  }\n\n  const handleErrorImage = () => {\n    imageRef.current.src = userImage\n  }\n\n  const handleError = () => {\n    if (!image.current) return null\n    image.current.src = userImage\n  }\n\n  const openModal = () => {\n    const action = loginModal()\n    dispatch(action)\n  }\n\n  const closeModal = () => {\n    const action = hideModal()\n    dispatch(action)\n  }\n\n  const handleShowModalRegister = () => {\n    const action = registerModal()\n    dispatch(action)\n  }\n\n  const handleShowModalLogin = () => {\n    const action = loginModal()\n    dispatch(action)\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    if (valueInput === '') return\n    axiosInstance\n      .post(`/api/posts/${videoId}/comments`, {\n        comment: valueInput\n      })\n      .then(res => {\n        const newComment = res.data\n        setComments([newComment, ...comments])\n        setValueInput('')\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const handleDeleteComment = post => {\n    axiosInstance.delete(`/api/comments/${post.id}`).catch(err => {\n      console.log(err)\n    })\n    const commentIndex = comments.findIndex(comment => comment.id === post.id)\n    const newComment = comments.splice(commentIndex, 1)\n    setComments(newComment)\n  }\n\n  const handleChangeValue = e => {\n    setValueInput(e.target.value)\n  }\n\n  useEffect(() => {\n    if (valueInput !== '') {\n      setIsValueInput(true)\n    } else {\n      setIsValueInput(false)\n    }\n  }, [valueInput])\n  return (\n    <>\n      <div className={styles.videoFixed}>\n        <div className={styles.videoContainer}>\n          <div className={styles.thumbnail}>\n            <img src={data.thumb_url} alt=\"anh video\" className={styles.image} />\n          </div>\n          <video\n            ref={getVideoRef}\n            className={styles.video}\n            src={data.file_url}\n            muted={isMuted}\n            loop\n            poster={data.thumb_url}\n            autoPlay\n            onClick={handlePausePlayVideo}\n          />\n          {isPlaying ? (\n            <button className={styles.btnPlay} onClick={handlePlayVideo}>\n              <FaPlay className={styles.playIcon} />\n            </button>\n          ) : (\n            ''\n          )}\n          <img src={logo} alt=\"logo\" className={styles.logo} />\n\n          <button className={styles.btnIcon} onClick={onCloseBtn}>\n            <AiFillCloseCircle className={styles.icon} />\n          </button>\n          <button className={[styles.btn, styles.vlBtn].join(' ')} onClick={() => onToggleMute(data)}>\n            <FontAwesomeIcon className={styles.vlIcon} icon={isMuted ? faVolumeMute : faVolumeUp} />\n          </button>\n          {!isNextVideo ? (\n            <div className={`${styles.downBtn} ${styles.btnChervon}`} onClick={onNextVideo}>\n              <FaAngleDown className={`${styles.icon} ${styles.iconDown}`} />\n            </div>\n          ) : (\n            ''\n          )}\n          {!isPrevVideo ? (\n            <div className={`${styles.upBtn} ${styles.btnChervon}`} onClick={onPrevVideo}>\n              <FaAngleUp className={`${styles.icon} ${styles.iconUp}`} />\n            </div>\n          ) : (\n            ''\n          )}\n        </div>\n        <div className={styles.contentContainer}>\n          <div className={styles.userInfoContainer}>\n            <div className={styles.userInfo}>\n              <div to={`/@${data.user.nickname}`}>\n                <img\n                  className={styles.avatar}\n                  src={data.user.avatar}\n                  alt=\"avatar\"\n                  onError={handleErrorImage}\n                  ref={imageRef}\n                />\n              </div>\n              <div className={styles.userInfoLink}>\n                <Link className={styles.nickname} to={`/@${data.user.nickname}`}>\n                  {data.user.nickname}\n                </Link>\n                <Link className={styles.firstName} to={`/@${data.user.nickname}`}>\n                  {data.user.first_name}\n                </Link>\n              </div>\n              <Button\n                children=\"Follow\"\n                size=\"xl\"\n                color=\"colorPrimary\"\n                border\n                type=\"default\"\n                hoverPrimaryColor\n                onClick={openModal}\n              />\n              <Modal isOpen={modalLogin === LOGIN_MODAL} style={customStyles}>\n                <Login\n                  title=\"Logout to Tiktok\"\n                  accountTitle=\"Bạn đã có tài khoản\"\n                  loginText=\"Đăng nhập\"\n                  onShowModalLogin={handleShowModalRegister}\n                  onCloseModal={closeModal}\n                />\n              </Modal>\n              <Modal isOpen={modalRegister === REGISTER_MODAL} style={customStyles}>\n                <Register\n                  title=\"Login to Tiktok\"\n                  accountTitle=\"Bạn không có tài khoản\"\n                  loginText=\"Đăng ký\"\n                  onShowModalRegister={handleShowModalLogin}\n                  onCloseModal={closeModal}\n                />\n              </Modal>\n            </div>\n          </div>\n          <div className={styles.videoInfoContainer}>\n            <div className={styles.actionContainer}>\n              <div className={styles.action} style={{ display: 'flex' }}>\n                <div className={styles.actionItem}>\n                  <div className={styles.iconWrap} onClick={handleShowModalLogin}>\n                    <AiOutlineHeart className={styles.icon} />\n                  </div>\n                  <span className={styles.votes}>{data.likes_count}</span>\n                </div>\n                <div className={styles.actionItem}>\n                  <div className={styles.iconWrap}>\n                    <FaCommentDots className={styles.icon} />\n                  </div>\n                  <span className={styles.votes}>{data.comments_count}</span>\n                </div>\n              </div>\n              <div className={styles.actionRight}>\n                <div className={styles.shareContainer}>\n                  <span>Chia sẻ với</span>\n                  <div className={styles.shareGroup}>\n                    <WhatsappShareButton\n                      className={styles.shareBtn}\n                      url={`http://www.facebook.com/sharer.php?u=${window.location.href}`}\n                    >\n                      <WhatsappIcon className={styles.iconFa} size={32} round />\n                    </WhatsappShareButton>\n                    <FacebookShareButton\n                      className={styles.shareBtn}\n                      url={`http://www.facebook.com/sharer.php?u=${window.location.href}`}\n                    >\n                      <FacebookIcon className={styles.iconFa} size={32} round />\n                    </FacebookShareButton>\n                    <TwitterShareButton url={`http://www.facebook.com/sharer.php?u=${window.location.href}`}>\n                      <TwitterIcon className={styles.iconFa} size={32} round />\n                    </TwitterShareButton>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={styles.copyLinkContainer}>\n              <div className={styles.linkContainer}>{window.location.href}</div>\n              <div className={styles.copyContainer}>Sao chép liên kết</div>\n            </div>\n          </div>\n          {!token ? (\n            <div className={styles.commentContainer}>\n              <div className={styles.logoutContainer}>\n                <h3>Đăng nhập để xem bình luận</h3>\n                <p className={styles.desc}>Đăng nhập để xem bình luận và thích video</p>\n                <Button children=\"Đăng nhập\" color=\"white\" size=\"xxl\" type=\"primary\" hover onClick={openModal} />\n                <p className={styles.signUp}>\n                  Bạn không có tài khoản?\n                  <span onClick={handleShowModalRegister} className={styles.loginBtn}>\n                    Đăng ký\n                  </span>\n                </p>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className={styles.commentContainer}>\n                <div className={styles.comments}>\n                  {comments.map(comment => (\n                    <div className={styles.commentItem}>\n                      <div className={styles.commentContent}>\n                        <Link to={`/@${comment.user.nickname}`}>\n                          <img\n                            onError={handleError}\n                            ref={image}\n                            src={comment.user.avatar}\n                            alt=\"avatar\"\n                            className={styles.avatar}\n                          />\n                        </Link>\n                        <div className={styles.commentWrap}>\n                          <Link className={styles.nicknameCmt} to={`/@${comment.user.nickname}`}>\n                            {comment.user.nickname}\n                          </Link>\n                          <div className={styles.commentText}>\n                            <span className={styles.cmt}>{comment.comment}</span>\n                            <div className={styles.bottomContainer}>\n                              <span className={styles.commentTime}>1 day ago</span>\n                              <span className={styles.reply}>Trả lời</span>\n                              <span onClick={() => handleDeleteComment(comment)} className={styles.deleteComment}>\n                                Xóa\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                        <div className={styles.likeContainer}>\n                          <AiOutlineHeart className={styles.icon} />\n                          <span className={styles.likeCounts}>{comment.likes_count}</span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              <form onSubmit={handleSubmit}>\n                <input type=\"text\" placeholder=\"Thêm bình luận\" value={valueInput} onChange={handleChangeValue} />\n                <button className={isValueInput ? styles.active : ''} type=\"submit\">\n                  Đăng\n                </button>\n              </form>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default PostDetailModal\n","export default \"data:image/png;base64,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\"","import React, { useRef, useState, useEffect } from 'react'\nimport styles from './PostItem.module.scss'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPause, faPlay, faVolumeMute, faVolumeUp } from '@fortawesome/free-solid-svg-icons'\nimport { Link } from 'react-router-dom'\nimport config from '../../config'\nimport Button from '../common/Button'\nimport { AiFillHeart } from 'react-icons/ai'\nimport { FaCommentDots, FaShare } from 'react-icons/fa'\nimport Modal from 'react-modal'\nimport Login from '../Login'\nimport Register from '../../components/Register'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { hideModal, loginModal, registerModal } from '../../redux/actions'\nimport { Waypoint } from 'react-waypoint'\nimport userImage from '../../assets/img/user.jpg'\n\nconst customStyles = {\n  content: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    border: '1px solid #ccc',\n    background: '#fff',\n    overflow: 'auto',\n    WebkitOverflowScrolling: 'touch',\n    borderRadius: '4px',\n    outline: 'none',\n    padding: '20px'\n  },\n  overlay: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.75)'\n  }\n}\nconst token = window.localStorage.getItem('token')\nconst LOGIN_MODAL = 'LOGIN_MODAL'\nconst REGISTER_MODAL = 'REGISTER_MODAL'\nconst defaultFn = () => {}\nconst PostItem = ({\n  data = '',\n  hastag = '',\n  isMuted = false,\n  isPlaying = false,\n  stopWhenPaused = false,\n  isWaypoint = false,\n  onShowDetail = defaultFn,\n  onFollowUser = defaultFn,\n  onToggleMute = defaultFn,\n  getVideoRef = defaultFn,\n  onTogglePlay = defaultFn,\n  onEnterWaypoint = defaultFn,\n  onLikeCount = defaultFn,\n  onCommentCount = defaultFn\n}) => {\n  const videoRef = useRef(null)\n  const imageRef = useRef(null)\n  const modalLogin = useSelector(state => state.modal.modalLogin)\n  const modalRegister = useSelector(state => state.modal.modalRegister)\n  const [canPlay, setCanPlay] = useState(false)\n  const dispatch = useDispatch()\n  useEffect(() => {\n    if (!videoRef.current) return\n    // if (!canPlay) return\n    if (isPlaying) {\n      videoRef.current.play()\n    } else {\n      videoRef.current.pause()\n      if (stopWhenPaused) {\n        videoRef.current.currentTime = 0\n      }\n    }\n  }, [isPlaying, stopWhenPaused])\n\n  const getVideoWidth = () => {\n    const videoWidth = data.meta.video.resolution_x\n    const videoHeight = data.meta.video.resolution_y\n    const videoRatio = videoWidth / videoHeight\n    if (videoWidth > videoHeight) {\n      return `calc(400px + ((100vw - 768px) / 1152) * 100)`\n    }\n    return `calc(${videoRatio} * (400px + ((100vw - 768px) / 1152) * 100))`\n  }\n\n  const topOffsetVideo = () => {\n    return (window.innerHeight - 60) / 3\n  }\n\n  const bottomOffsetVideo = () => {\n    return (window.innerHeight - 60) / 3\n  }\n\n  const handleErrorImage = () => {\n    imageRef.current.src = userImage\n  }\n\n  const openModal = () => {\n    const action = loginModal()\n    dispatch(action)\n  }\n\n  const closeModal = () => {\n    const action = hideModal()\n    dispatch(action)\n  }\n\n  const handleShowModalRegister = () => {\n    const action = registerModal()\n    dispatch(action)\n  }\n\n  const handleShowModalLogin = () => {\n    const action = loginModal()\n    dispatch(action)\n  }\n\n  return (\n    <div className={styles.postItem}>\n      <Link to={`${config.routes.home}@${data.user.first_name} ${data.user.last_name}`} className={styles.userAvatar}>\n        <img\n          src={data.user.avatar}\n          alt={data.user.nickname}\n          className={styles.avatarImg}\n          onError={handleErrorImage}\n          ref={imageRef}\n        />\n      </Link>\n      <div className={styles.postContent}>\n        <div className={styles.infoContent}>\n          <Link to={`${config.routes.home}@${data.user.first_name} ${data.user.last_name}`} rel=\"noopener\">\n            <h3 className={styles.authorUnique}>{data.user.nickname}</h3>\n          </Link>\n          <Link to={`${config.routes.home}${data.user.first_name} ${data.user.last_name}`} rel=\"noopener\">\n            <h4 className={styles.fullName}>{`${data.user.first_name} ${data.user.last_name}`}</h4>\n          </Link>\n        </div>\n        <div className={styles.caption}>\n          <Link to={`${config.routes.home}${data.user.first_name} ${data.user.last_name}`} rel=\"noopener\">\n            <strong>{hastag}</strong>\n          </Link>\n          <strong>{data.description}</strong>\n        </div>\n        {token ? (\n          <div className={styles.btnFollow}>\n            <Button\n              border\n              color=\"colorPrimary\"\n              size=\"sm\"\n              type=\"default\"\n              hoverPrimaryColor\n              textCenter\n              onClick={() => onFollowUser(data)}\n              actived={data.user.is_followed}\n            >\n              <span>{data.user.is_followed ? 'Đang follow' : 'Follow'}</span>\n            </Button>\n          </div>\n        ) : (\n          <div className={styles.btnFollow}>\n            <Button\n              border\n              color=\"colorPrimary\"\n              size=\"sm\"\n              type=\"default\"\n              hoverPrimaryColor\n              textCenter\n              onClick={openModal}\n            >\n              <span>Follow</span>\n            </Button>\n          </div>\n        )}\n\n        <Modal isOpen={modalLogin === LOGIN_MODAL} style={customStyles}>\n          <Login\n            title=\"Logout to Tiktok\"\n            accountTitle=\"Bạn đã có tài khoản\"\n            loginText=\"Đăng nhập\"\n            onShowModalLogin={handleShowModalRegister}\n            onCloseModal={closeModal}\n          />\n        </Modal>\n        <Modal isOpen={modalRegister === REGISTER_MODAL} style={customStyles}>\n          <Register\n            title=\"Login to Tiktok\"\n            accountTitle=\"Bạn không có tài khoản\"\n            loginText=\"Đăng ký\"\n            onShowModalRegister={handleShowModalLogin}\n            onCloseModal={closeModal}\n          />\n        </Modal>\n        <div className={styles.content}>\n          <div className={styles.videoItem}>\n            <div className={styles.cardWrapper}>\n              <div className={styles.cardImage}>\n                {isWaypoint && (\n                  <Waypoint\n                    onEnter={() => onEnterWaypoint(data)}\n                    topOffset={topOffsetVideo()}\n                    bottomOffset={bottomOffsetVideo()}\n                  >\n                    <video\n                      style={{ width: getVideoWidth() }}\n                      className={styles.video}\n                      loop\n                      muted={isMuted}\n                      autoPlay\n                      ref={ref => {\n                        videoRef.current = ref\n                        getVideoRef(ref, data)\n                      }}\n                      poster={data.thumb_url}\n                      src={data.file_url}\n                      onClick={() => onShowDetail(data)}\n                      //   onCanPlay={() => setCanPlay(true)}\n                    />\n                  </Waypoint>\n                )}\n                <span className={styles.overlay} />\n                <button className={[styles.btn, styles.playBtn].join(' ')} onClick={() => onTogglePlay(data)}>\n                  <FontAwesomeIcon className={styles.playIcon} icon={isPlaying ? faPause : faPlay} />\n                </button>\n                <button className={[styles.btn, styles.vlBtn].join(' ')} onClick={() => onToggleMute(data)}>\n                  <FontAwesomeIcon className={styles.vlIcon} icon={isMuted ? faVolumeMute : faVolumeUp} />\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className={styles.iconAction}>\n            <div className={styles.itemWrapper}>\n              <div className={styles.barItem} onClick={() => onLikeCount(data)}>\n                <AiFillHeart onClick={openModal} className={`${styles.icon} ${data.is_liked ? styles.likeIcon : ''}`} />\n              </div>\n              <strong>{data.likes_count}</strong>\n            </div>\n\n            <div className={styles.itemWrapper}>\n              <div className={styles.barItem} onClick={() => onCommentCount(data)}>\n                <FaCommentDots className={styles.icon} />\n              </div>\n              <strong>{data.comments_count}</strong>\n            </div>\n\n            <div className={styles.itemWrapper}>\n              <div className={styles.barItem}>\n                <FaShare className={styles.icon} />\n              </div>\n              <strong>{data.shares_count}</strong>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PostItem\n","import React, { useState, useRef, useCallback, useLayoutEffect } from 'react'\nimport axiosInstance from '../../axiosInstance'\nimport storage from '../../../src/utils/storage'\nimport { PostDetailModal } from '../../components/PostDetailModal'\nimport { Waypoint } from 'react-waypoint'\nimport PostItem from '../../components/PostItem'\nimport { v4 } from 'uuid'\n\nconst Home = () => {\n  const [pagination, setPagination] = useState({\n    total: 0,\n    perPage: 0,\n    currentPage: 1,\n    totalPages: 0\n  })\n  const [posts, setPosts] = useState([])\n  const [nextVideo, setNextVideo] = useState(false)\n  const [prevVideo, setPrevVideo] = useState(false)\n  const [postInViewport, setPostInViewport] = useState(null)\n  const [isMuted, setIsMuted] = useState(storage.get('isMuted', true))\n  const [currentPost, setCurrentPost] = useState(null)\n  const videoRefs = useRef({})\n\n  const currentVideoRef = useRef(null)\n  const stopWhenPaused = useRef(true)\n  const [currentTime, setCurrentTime] = useState(0)\n  const videoModal = useRef(null)\n  const videoRefObj = useRef({})\n\n  useLayoutEffect(() => {\n    axiosInstance.get(`/api/posts?type=for-you&page=${pagination.currentPage}`).then(res => {\n      setPosts(prevState => [...prevState, ...res.data])\n      setPagination({\n        currentPage: res.meta.pagination.current_page,\n        total: res.meta.pagination.total,\n        perPage: res.meta.pagination.per_page,\n        totalPages: res.meta.pagination.total_pages\n      })\n    })\n  }, [pagination.currentPage])\n\n  const getVideoRefByPostId = postId => {\n    return videoRefs.current[postId]\n  }\n\n  const setVideoRefByPostId = (postId, ref) => {\n    return (videoRefs.current[postId] = ref)\n  }\n\n  const handleVideoRef = (ref, post) => {\n    setVideoRefByPostId(post.id, ref)\n  }\n\n  const checkPlaying = post => {\n    if (!postInViewport) return null\n    return postInViewport && postInViewport.id === post.id\n  }\n\n  const handleToggleMute = post => {\n    const videoRef = getVideoRefByPostId(post.id)\n    if (videoRef) {\n      videoRef.muted = !videoRef.muted\n      setIsMuted(videoRef.muted)\n      storage.set('isMuted', videoRef.muted)\n    }\n  }\n\n  const handleTogglePlay = post => {\n    stopWhenPaused.current = false\n    if (checkPlaying(post)) {\n      setPostInViewport(null)\n    } else {\n      setPostInViewport(post)\n    }\n  }\n\n  const handleFollowUser = post => {\n    let apiPath = `/api/users/${post.user.id}/${post.user.is_followed ? 'unfollow' : 'follow'}`\n    axiosInstance\n      .post(apiPath)\n      .then(res => {\n        const index = posts.findIndex(item => item.id === post.id)\n        const newPost = posts[index]\n        newPost.user = res.data\n        const newPosts = [...posts]\n        newPosts.splice(index, 1, newPost)\n        setPosts(newPosts)\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const handleWaypointEnter = post => {\n    if (currentPost) return\n    stopWhenPaused.current = true\n    setPostInViewport(post)\n  }\n\n  const handleLikeCount = post => {\n    axiosInstance\n      .post(`/api/posts/${post.id}/${post.is_liked ? 'unlike' : 'like'}`)\n      .then(res => {\n        const postIndex = posts.findIndex(item => item.id === post.id)\n        const newPost = { ...res.data }\n        posts.splice(postIndex, 1, newPost)\n        setPosts(posts.slice(0))\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  const handleCommentCount = post => {\n    setCurrentPost(post)\n    window.history.pushState(null, document.title, getPostURL(post))\n  }\n\n  const handleShowDetailPost = post => {\n    window.history.pushState(null, document.title, getPostURL(post))\n    const videoRef = getVideoRefByPostId(post.id)\n    console.log(videoRef.currentTime)\n    if (videoRef) {\n      currentVideoRef.current = videoRef.currentTime\n      videoRef.pause()\n    }\n    setCurrentPost(post)\n  }\n\n  useLayoutEffect(() => {\n    window.history.scrollRestoration = 'manual'\n\n    return () => {\n      window.history.scrollRestoration = 'auto'\n    }\n  }, [])\n\n  const getPostURL = post => {\n    return `/@${post.user.nickname}/video/${post.uuid}`\n  }\n\n  const scrollPostIntoView = useCallback(post => {\n    const videoRef = getVideoRefByPostId(post.id)\n    if (videoRef) {\n      videoRef.scrollIntoView({ block: 'center' })\n    }\n  }, [])\n\n  const handleCloseBtn = () => {\n    const videoRef = getVideoRefByPostId(currentPost.id)\n    if (videoRefObj.current[videoRef]) {\n      videoRefObj.current[videoRef].currentTime = videoModal.current.currentTime\n      videoRefObj.current[videoRef].play()\n    }\n    setCurrentPost(null)\n    window.history.back()\n  }\n\n  useLayoutEffect(() => {\n    if (!currentPost) return\n    scrollPostIntoView(currentPost)\n    window.history.replaceState(null, document.title, getPostURL(currentPost))\n  }, [currentPost, scrollPostIntoView])\n\n  const handleNextVideo = () => {\n    currentVideoRef.current = 0\n    const currentIndex = posts.findIndex(post => post.id === currentPost.id)\n    if (currentIndex <= posts.length - 1) {\n      let newPost = posts[currentIndex + 1]\n      setCurrentPost(newPost)\n    }\n    if (posts.length === 0) {\n      setPrevVideo(false)\n    }\n  }\n\n  const handlePrevVideo = () => {\n    currentVideoRef.current = 0\n    const currentIndex = posts.findIndex(post => post.id === currentPost.id)\n    if (currentIndex >= 0) {\n      let newPost = posts[currentIndex - 1]\n      setCurrentPost(newPost)\n    }\n    if (currentIndex >= posts.length - 1) {\n      setNextVideo(false)\n    }\n  }\n\n  const handleNextPage = () => {\n    if (pagination.currentPage < pagination.totalPages) {\n      setPagination(prevState => ({\n        ...prevState,\n        currentPage: prevState.currentPage + 1\n      }))\n    }\n  }\n\n  return (\n    <div style={{ padding: '100px 0 20px' }}>\n      {posts.map(post => (\n        <PostItem\n          key={v4()}\n          data={post}\n          onTogglePlay={handleTogglePlay}\n          onToggleMute={handleToggleMute}\n          isMuted={isMuted}\n          getVideoRef={handleVideoRef}\n          onFollowUser={handleFollowUser}\n          isPlaying={checkPlaying(post)}\n          stopWhenPaused={stopWhenPaused.current}\n          isWaypoint\n          onEnterWaypoint={handleWaypointEnter}\n          onLikeCount={handleLikeCount}\n          onCommentCount={handleCommentCount}\n          onShowDetail={handleShowDetailPost}\n        />\n      ))}\n\n      <Waypoint onEnter={handleNextPage}></Waypoint>\n\n      {currentPost && (\n        <PostDetailModal\n                  key={v4()}\n                  data={currentPost}\n                  onCloseBtn={handleCloseBtn}\n                  isMuted={isMuted}\n                  onToggleMute={handleToggleMute}\n                  onNextVideo={handleNextVideo}\n                  onPrevVideo={handlePrevVideo}\n                  isNextVideo={nextVideo}\n                  isPrevVideo={prevVideo}\n                  videoId={currentPost.uuid}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Home\n","import axios from 'axios'\nconst instance = axios.create({\n  baseURL: 'https://tiktok.fullstack.edu.vn'\n})\n\ninstance.defaults.headers.common['Authorization'] = 'Bearer ' + window.localStorage.getItem('token')\ninstance.interceptors.response.use(\n  function (response) {\n    return response.data\n  },\n  function (error) {\n    return Promise.reject(error)\n  }\n)\nexport default instance\n"],"sourceRoot":""}